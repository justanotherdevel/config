var Ks=Object.create;var dr=Object.defineProperty;var ea=Object.getOwnPropertyDescriptor;var ta=Object.getOwnPropertyNames;var ra=Object.getPrototypeOf,na=Object.prototype.hasOwnProperty;var Ci=e=>dr(e,"__esModule",{value:!0});var ia=(e,t)=>()=>(e&&(t=e(e=0)),t);var E=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Si=(e,t)=>{for(var i in t)dr(e,i,{get:t[i],enumerable:!0})},qi=(e,t,i,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of ta(t))!na.call(e,r)&&(i||r!=="default")&&dr(e,r,{get:()=>t[r],enumerable:!(n=ea(t,r))||n.enumerable});return e},nt=(e,t)=>qi(Ci(dr(e!=null?Ks(ra(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),lr=(e=>(t,i)=>e&&e.get(t)||(i=qi(Ci({}),t,1),e&&e.set(t,i),i))(typeof WeakMap!="undefined"?new WeakMap:0);var He=E(Vr=>{"use strict";Object.defineProperty(Vr,"__esModule",{value:!0});var Hr;function zr(){if(Hr===void 0)throw new Error("No runtime abstraction layer installed");return Hr}(function(e){function t(i){if(i===void 0)throw new Error("No runtime abstraction layer provided");Hr=i}e.install=t})(zr||(zr={}));Vr.default=zr});var Br=E(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.Disposable=void 0;var oa;(function(e){function t(i){return{dispose:i}}e.create=t})(oa=It.Disposable||(It.Disposable={}))});var Ai=E(pr=>{"use strict";Object.defineProperty(pr,"__esModule",{value:!0});pr.AbstractMessageBuffer=void 0;var sa=13,aa=10,ca=`\r
`,ji=class{constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){let i=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(i),this._totalLength+=i.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let t=0,i=0,n=0,r=0;e:for(;i<this._chunks.length;){let d=this._chunks[i];n=0;t:for(;n<d.length;){switch(d[n]){case sa:switch(t){case 0:t=1;break;case 2:t=3;break;default:t=0}break;case aa:switch(t){case 1:t=2;break;case 3:t=4,n++;break e;default:t=0}break;default:t=0}n++}r+=d.byteLength,i++}if(t!==4)return;let o=this._read(r+n),a=new Map,l=this.toString(o,"ascii").split(ca);if(l.length<2)return a;for(let d=0;d<l.length-2;d++){let f=l[d],b=f.indexOf(":");if(b===-1)throw new Error("Message header must separate key and value using :");let v=f.substr(0,b),y=f.substr(b+1).trim();a.set(v,y)}return a}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(o)}if(this._chunks[0].byteLength>t){let o=this._chunks[0],a=this.asNative(o,t);return this._chunks[0]=o.slice(t),this._totalLength-=t,a}let i=this.allocNative(t),n=0,r=0;for(;t>0;){let o=this._chunks[r];if(o.byteLength>t){let a=o.slice(0,t);i.set(a,n),n+=t,this._chunks[r]=o.slice(t),this._totalLength-=t,t-=t}else i.set(o,n),n+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,t-=o.byteLength}return i}};pr.AbstractMessageBuffer=ji});var Ui=E(Xr=>{"use strict";Object.defineProperty(Xr,"__esModule",{value:!0});var ua=He(),Li=require("util"),it=Br(),da=Ai(),Ft=class extends da.AbstractMessageBuffer{constructor(t="utf-8"){super(t)}emptyBuffer(){return Ft.emptyBuffer}fromString(t,i){return Buffer.from(t,i)}toString(t,i){return t instanceof Buffer?t.toString(i):new Li.TextDecoder(i).decode(t)}asNative(t,i){return i===void 0?t instanceof Buffer?t:Buffer.from(t):t instanceof Buffer?t.slice(0,i):Buffer.from(t,0,i)}allocNative(t){return Buffer.allocUnsafe(t)}};Ft.emptyBuffer=Buffer.allocUnsafe(0);var Ii=class{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),it.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),it.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),it.Disposable.create(()=>this.stream.off("end",t))}onData(t){return this.stream.on("data",t),it.Disposable.create(()=>this.stream.off("data",t))}},Fi=class{constructor(t){this.stream=t}onClose(t){return this.stream.on("close",t),it.Disposable.create(()=>this.stream.off("close",t))}onError(t){return this.stream.on("error",t),it.Disposable.create(()=>this.stream.off("error",t))}onEnd(t){return this.stream.on("end",t),it.Disposable.create(()=>this.stream.off("end",t))}write(t,i){return new Promise((n,r)=>{let o=a=>{a==null?n():r(a)};typeof t=="string"?this.stream.write(t,i,o):this.stream.write(t,o)})}end(){this.stream.end()}},Wi=Object.freeze({messageBuffer:Object.freeze({create:e=>new Ft(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(i){return Promise.reject(i)}}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new Li.TextDecoder(t.charset).decode(e)))}catch(i){return Promise.reject(i)}}})}),stream:Object.freeze({asReadableStream:e=>new Ii(e),asWritableStream:e=>new Fi(e)}),console,timer:Object.freeze({setTimeout(e,t,...i){let n=setTimeout(e,t,...i);return{dispose:()=>clearTimeout(n)}},setImmediate(e,...t){let i=setImmediate(e,...t);return{dispose:()=>clearImmediate(i)}},setInterval(e,t,...i){let n=setInterval(e,t,...i);return{dispose:()=>clearInterval(n)}}})});function Jr(){return Wi}(function(e){function t(){ua.default.install(Wi)}e.install=t})(Jr||(Jr={}));Xr.default=Jr});var bt=E(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.stringArray=pe.array=pe.func=pe.error=pe.number=pe.string=pe.boolean=void 0;function la(e){return e===!0||e===!1}pe.boolean=la;function $i(e){return typeof e=="string"||e instanceof String}pe.string=$i;function fa(e){return typeof e=="number"||e instanceof Number}pe.number=fa;function pa(e){return e instanceof Error}pe.error=pa;function ha(e){return typeof e=="function"}pe.func=ha;function Hi(e){return Array.isArray(e)}pe.array=Hi;function ga(e){return Hi(e)&&e.every(t=>$i(t))}pe.stringArray=ga});var Qr=E(q=>{"use strict";Object.defineProperty(q,"__esModule",{value:!0});q.Message=q.NotificationType9=q.NotificationType8=q.NotificationType7=q.NotificationType6=q.NotificationType5=q.NotificationType4=q.NotificationType3=q.NotificationType2=q.NotificationType1=q.NotificationType0=q.NotificationType=q.RequestType9=q.RequestType8=q.RequestType7=q.RequestType6=q.RequestType5=q.RequestType4=q.RequestType3=q.RequestType2=q.RequestType1=q.RequestType=q.RequestType0=q.AbstractMessageSignature=q.ParameterStructures=q.ResponseError=q.ErrorCodes=void 0;var ot=bt(),zi;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3})(zi=q.ErrorCodes||(q.ErrorCodes={}));var hr=class extends Error{constructor(t,i,n){super(i);this.code=ot.number(t)?t:zi.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,hr.prototype)}toJson(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),t}};q.ResponseError=hr;var ce=class{constructor(t){this.kind=t}static is(t){return t===ce.auto||t===ce.byName||t===ce.byPosition}toString(){return this.kind}};q.ParameterStructures=ce;ce.auto=new ce("auto");ce.byPosition=new ce("byPosition");ce.byName=new ce("byName");var G=class{constructor(t,i){this.method=t,this.numberOfParams=i}get parameterStructures(){return ce.auto}};q.AbstractMessageSignature=G;var Vi=class extends G{constructor(t){super(t,0)}};q.RequestType0=Vi;var Bi=class extends G{constructor(t,i=ce.auto){super(t,1);this._parameterStructures=i}get parameterStructures(){return this._parameterStructures}};q.RequestType=Bi;var Ji=class extends G{constructor(t,i=ce.auto){super(t,1);this._parameterStructures=i}get parameterStructures(){return this._parameterStructures}};q.RequestType1=Ji;var Xi=class extends G{constructor(t){super(t,2)}};q.RequestType2=Xi;var Qi=class extends G{constructor(t){super(t,3)}};q.RequestType3=Qi;var Gi=class extends G{constructor(t){super(t,4)}};q.RequestType4=Gi;var Zi=class extends G{constructor(t){super(t,5)}};q.RequestType5=Zi;var Yi=class extends G{constructor(t){super(t,6)}};q.RequestType6=Yi;var Ki=class extends G{constructor(t){super(t,7)}};q.RequestType7=Ki;var eo=class extends G{constructor(t){super(t,8)}};q.RequestType8=eo;var to=class extends G{constructor(t){super(t,9)}};q.RequestType9=to;var ro=class extends G{constructor(t,i=ce.auto){super(t,1);this._parameterStructures=i}get parameterStructures(){return this._parameterStructures}};q.NotificationType=ro;var no=class extends G{constructor(t){super(t,0)}};q.NotificationType0=no;var io=class extends G{constructor(t,i=ce.auto){super(t,1);this._parameterStructures=i}get parameterStructures(){return this._parameterStructures}};q.NotificationType1=io;var oo=class extends G{constructor(t){super(t,2)}};q.NotificationType2=oo;var so=class extends G{constructor(t){super(t,3)}};q.NotificationType3=so;var ao=class extends G{constructor(t){super(t,4)}};q.NotificationType4=ao;var co=class extends G{constructor(t){super(t,5)}};q.NotificationType5=co;var uo=class extends G{constructor(t){super(t,6)}};q.NotificationType6=uo;var lo=class extends G{constructor(t){super(t,7)}};q.NotificationType7=lo;var fo=class extends G{constructor(t){super(t,8)}};q.NotificationType8=fo;var po=class extends G{constructor(t){super(t,9)}};q.NotificationType9=po;var ma;(function(e){function t(r){let o=r;return o&&ot.string(o.method)&&(ot.string(o.id)||ot.number(o.id))}e.isRequest=t;function i(r){let o=r;return o&&ot.string(o.method)&&r.id===void 0}e.isNotification=i;function n(r){let o=r;return o&&(o.result!==void 0||!!o.error)&&(ot.string(o.id)||ot.number(o.id)||o.id===null)}e.isResponse=n})(ma=q.Message||(q.Message={}))});var Zr=E(ze=>{"use strict";var ho;Object.defineProperty(ze,"__esModule",{value:!0});ze.LRUCache=ze.LinkedMap=ze.Touch=void 0;var ye;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(ye=ze.Touch||(ze.Touch={}));var Gr=class{constructor(){this[ho]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var t;return(t=this._head)==null?void 0:t.value}get last(){var t;return(t=this._tail)==null?void 0:t.value}has(t){return this._map.has(t)}get(t,i=ye.None){let n=this._map.get(t);if(!!n)return i!==ye.None&&this.touch(n,i),n.value}set(t,i,n=ye.None){let r=this._map.get(t);if(r)r.value=i,n!==ye.None&&this.touch(r,n);else{switch(r={key:t,value:i,next:void 0,previous:void 0},n){case ye.None:this.addItemLast(r);break;case ye.First:this.addItemFirst(r);break;case ye.Last:this.addItemLast(r);break;default:this.addItemLast(r);break}this._map.set(t,r),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let i=this._map.get(t);if(!!i)return this._map.delete(t),this.removeItem(i),this._size--,i.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,i){let n=this._state,r=this._head;for(;r;){if(i?t.bind(i)(r.value,r.key,this):t(r.value,r.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");r=r.next}}keys(){let t=this._state,i=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){let r={value:i.key,done:!1};return i=i.next,r}else return{value:void 0,done:!0}}};return n}values(){let t=this._state,i=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){let r={value:i.value,done:!1};return i=i.next,r}else return{value:void 0,done:!0}}};return n}entries(){let t=this._state,i=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(i){let r={value:[i.key,i.value],done:!1};return i=i.next,r}else return{value:void 0,done:!0}}};return n}[(ho=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let i=this._head,n=this.size;for(;i&&n>t;)this._map.delete(i.key),i=i.next,n--;this._head=i,this._size=n,i&&(i.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let i=t.next,n=t.previous;if(!i||!n)throw new Error("Invalid list");i.previous=n,n.next=i}t.next=void 0,t.previous=void 0,this._state++}touch(t,i){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(i!==ye.First&&i!==ye.Last)){if(i===ye.First){if(t===this._head)return;let n=t.next,r=t.previous;t===this._tail?(r.next=void 0,this._tail=r):(n.previous=r,r.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(i===ye.Last){if(t===this._tail)return;let n=t.next,r=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=r,r.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((i,n)=>{t.push([n,i])}),t}fromJSON(t){this.clear();for(let[i,n]of t)this.set(i,n)}};ze.LinkedMap=Gr;var go=class extends Gr{constructor(t,i=1){super();this._limit=t,this._ratio=Math.min(Math.max(0,i),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,i=ye.AsNew){return super.get(t,i)}peek(t){return super.get(t,ye.None)}set(t,i){return super.set(t,i,ye.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};ze.LRUCache=go});var Rt=E(st=>{"use strict";Object.defineProperty(st,"__esModule",{value:!0});st.Emitter=st.Event=void 0;var ya=He(),va;(function(e){let t={dispose(){}};e.None=function(){return t}})(va=st.Event||(st.Event={}));var mo=class{add(t,i=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(i),Array.isArray(n)&&n.push({dispose:()=>this.remove(t,i)})}remove(t,i=null){if(!this._callbacks)return;let n=!1;for(let r=0,o=this._callbacks.length;r<o;r++)if(this._callbacks[r]===t)if(this._contexts[r]===i){this._callbacks.splice(r,1),this._contexts.splice(r,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let i=[],n=this._callbacks.slice(0),r=this._contexts.slice(0);for(let o=0,a=n.length;o<a;o++)try{i.push(n[o].apply(r[o],t))}catch(l){(0,ya.default)().console.error(l)}return i}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},Wt=class{constructor(t){this._options=t}get event(){return this._event||(this._event=(t,i,n)=>{this._callbacks||(this._callbacks=new mo),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,i);let r={dispose:()=>{!this._callbacks||(this._callbacks.remove(t,i),r.dispose=Wt._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(r),r}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};st.Emitter=Wt;Wt._noop=function(){}});var tn=E(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.CancellationTokenSource=at.CancellationToken=void 0;var ba=He(),Ra=bt(),Yr=Rt(),Kr;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Yr.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Yr.Event.None});function t(i){let n=i;return n&&(n===e.None||n===e.Cancelled||Ra.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}e.is=t})(Kr=at.CancellationToken||(at.CancellationToken={}));var _a=Object.freeze(function(e,t){let i=(0,ba.default)().timer.setTimeout(e.bind(t),0);return{dispose(){i.dispose()}}}),en=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?_a:(this._emitter||(this._emitter=new Yr.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},yo=class{get token(){return this._token||(this._token=new en),this._token}cancel(){this._token?this._token.cancel():this._token=Kr.Cancelled}dispose(){this._token?this._token instanceof en&&this._token.dispose():this._token=Kr.None}};at.CancellationTokenSource=yo});var bo=E(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.ReadableStreamMessageReader=Ve.AbstractMessageReader=Ve.MessageReader=void 0;var rn=He(),_t=bt(),nn=Rt(),Da;(function(e){function t(i){let n=i;return n&&_t.func(n.listen)&&_t.func(n.dispose)&&_t.func(n.onError)&&_t.func(n.onClose)&&_t.func(n.onPartialMessage)}e.is=t})(Da=Ve.MessageReader||(Ve.MessageReader={}));var on=class{constructor(){this.errorEmitter=new nn.Emitter,this.closeEmitter=new nn.Emitter,this.partialMessageEmitter=new nn.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${_t.string(t.message)?t.message:"unknown"}`)}};Ve.AbstractMessageReader=on;var sn;(function(e){function t(i){var f;let n,r,o,a=new Map,l,d=new Map;if(i===void 0||typeof i=="string")n=i!=null?i:"utf-8";else{if(n=(f=i.charset)!=null?f:"utf-8",i.contentDecoder!==void 0&&(o=i.contentDecoder,a.set(o.name,o)),i.contentDecoders!==void 0)for(let b of i.contentDecoders)a.set(b.name,b);if(i.contentTypeDecoder!==void 0&&(l=i.contentTypeDecoder,d.set(l.name,l)),i.contentTypeDecoders!==void 0)for(let b of i.contentTypeDecoders)d.set(b.name,b)}return l===void 0&&(l=(0,rn.default)().applicationJson.decoder,d.set(l.name,l)),{charset:n,contentDecoder:o,contentDecoders:a,contentTypeDecoder:l,contentTypeDecoders:d}}e.fromOptions=t})(sn||(sn={}));var vo=class extends on{constructor(t,i){super();this.readable=t,this.options=sn.fromOptions(i),this.buffer=(0,rn.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;let i=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),i}onData(t){for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let r=this.buffer.tryReadHeaders();if(!r)return;let o=r.get("Content-Length");if(!o)throw new Error("Header must provide a Content-Length property.");let a=parseInt(o);if(isNaN(a))throw new Error("Content-Length value must be a number.");this.nextMessageLength=a}let i=this.buffer.tryReadBody(this.nextMessageLength);if(i===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let n;this.options.contentDecoder!==void 0?n=this.options.contentDecoder.decode(i):n=Promise.resolve(i),n.then(r=>{this.options.contentTypeDecoder.decode(r,this.options).then(o=>{this.callback(o)},o=>{this.fireError(o)})},r=>{this.fireError(r)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,rn.default)().timer.setTimeout((t,i)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:i}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Ve.ReadableStreamMessageReader=vo});var _o=E(gr=>{"use strict";Object.defineProperty(gr,"__esModule",{value:!0});gr.Semaphore=void 0;var Ta=He(),Ro=class{constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((i,n)=>{this._waiting.push({thunk:t,resolve:i,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,Ta.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let i=t.thunk();i instanceof Promise?i.then(n=>{this._active--,t.resolve(n),this.runNext()},n=>{this._active--,t.reject(n),this.runNext()}):(this._active--,t.resolve(i),this.runNext())}catch(i){this._active--,t.reject(i),this.runNext()}}};gr.Semaphore=Ro});var Co=E(Be=>{"use strict";Object.defineProperty(Be,"__esModule",{value:!0});Be.WriteableStreamMessageWriter=Be.AbstractMessageWriter=Be.MessageWriter=void 0;var Do=He(),Ut=bt(),wa=_o(),To=Rt(),Pa="Content-Length: ",wo=`\r
`,Ca;(function(e){function t(i){let n=i;return n&&Ut.func(n.dispose)&&Ut.func(n.onClose)&&Ut.func(n.onError)&&Ut.func(n.write)}e.is=t})(Ca=Be.MessageWriter||(Be.MessageWriter={}));var an=class{constructor(){this.errorEmitter=new To.Emitter,this.closeEmitter=new To.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,i,n){this.errorEmitter.fire([this.asError(t),i,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${Ut.string(t.message)?t.message:"unknown"}`)}};Be.AbstractMessageWriter=an;var cn;(function(e){function t(i){var n,r;return i===void 0||typeof i=="string"?{charset:i!=null?i:"utf-8",contentTypeEncoder:(0,Do.default)().applicationJson.encoder}:{charset:(n=i.charset)!=null?n:"utf-8",contentEncoder:i.contentEncoder,contentTypeEncoder:(r=i.contentTypeEncoder)!=null?r:(0,Do.default)().applicationJson.encoder}}e.fromOptions=t})(cn||(cn={}));var Po=class extends an{constructor(t,i){super();this.writable=t,this.options=cn.fromOptions(i),this.errorCount=0,this.writeSemaphore=new wa.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let r=[];return r.push(Pa,n.byteLength.toString(),wo),r.push(wo),this.doWrite(t,r,n)},n=>{throw this.fireError(n),n}))}async doWrite(t,i,n){try{return await this.writable.write(i.join(""),"ascii"),this.writable.write(n)}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,i){this.errorCount++,this.fireError(t,i,this.errorCount)}end(){this.writable.end()}};Be.WriteableStreamMessageWriter=Po});var Eo=E(x=>{"use strict";Object.defineProperty(x,"__esModule",{value:!0});x.createMessageConnection=x.ConnectionOptions=x.CancellationStrategy=x.CancellationSenderStrategy=x.CancellationReceiverStrategy=x.ConnectionStrategy=x.ConnectionError=x.ConnectionErrors=x.LogTraceNotification=x.SetTraceNotification=x.TraceFormat=x.TraceValues=x.Trace=x.NullLogger=x.ProgressType=x.ProgressToken=void 0;var So=He(),oe=bt(),k=Qr(),qo=Zr(),$t=Rt(),un=tn(),Ht;(function(e){e.type=new k.NotificationType("$/cancelRequest")})(Ht||(Ht={}));var xo;(function(e){function t(i){return typeof i=="string"||typeof i=="number"}e.is=t})(xo=x.ProgressToken||(x.ProgressToken={}));var zt;(function(e){e.type=new k.NotificationType("$/progress")})(zt||(zt={}));var ko=class{constructor(){}};x.ProgressType=ko;var dn;(function(e){function t(i){return oe.func(i)}e.is=t})(dn||(dn={}));x.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var U;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"})(U=x.Trace||(x.Trace={}));var Sa;(function(e){e.Off="off",e.Messages="messages",e.Compact="compact",e.Verbose="verbose"})(Sa=x.TraceValues||(x.TraceValues={}));(function(e){function t(n){if(!oe.string(n))return e.Off;switch(n=n.toLowerCase(),n){case"off":return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose;default:return e.Off}}e.fromString=t;function i(n){switch(n){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}e.toString=i})(U=x.Trace||(x.Trace={}));var qe;(function(e){e.Text="text",e.JSON="json"})(qe=x.TraceFormat||(x.TraceFormat={}));(function(e){function t(i){return oe.string(i)?(i=i.toLowerCase(),i==="json"?e.JSON:e.Text):e.Text}e.fromString=t})(qe=x.TraceFormat||(x.TraceFormat={}));var No;(function(e){e.type=new k.NotificationType("$/setTrace")})(No=x.SetTraceNotification||(x.SetTraceNotification={}));var ln;(function(e){e.type=new k.NotificationType("$/logTrace")})(ln=x.LogTraceNotification||(x.LogTraceNotification={}));var mr;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(mr=x.ConnectionErrors||(x.ConnectionErrors={}));var ct=class extends Error{constructor(t,i){super(i);this.code=t,Object.setPrototypeOf(this,ct.prototype)}};x.ConnectionError=ct;var Oo;(function(e){function t(i){let n=i;return n&&oe.func(n.cancelUndispatched)}e.is=t})(Oo=x.ConnectionStrategy||(x.ConnectionStrategy={}));var fn;(function(e){e.Message=Object.freeze({createCancellationTokenSource(i){return new un.CancellationTokenSource}});function t(i){let n=i;return n&&oe.func(n.createCancellationTokenSource)}e.is=t})(fn=x.CancellationReceiverStrategy||(x.CancellationReceiverStrategy={}));var pn;(function(e){e.Message=Object.freeze({sendCancellation(i,n){return i.sendNotification(Ht.type,{id:n})},cleanup(i){}});function t(i){let n=i;return n&&oe.func(n.sendCancellation)&&oe.func(n.cleanup)}e.is=t})(pn=x.CancellationSenderStrategy||(x.CancellationSenderStrategy={}));var hn;(function(e){e.Message=Object.freeze({receiver:fn.Message,sender:pn.Message});function t(i){let n=i;return n&&fn.is(n.receiver)&&pn.is(n.sender)}e.is=t})(hn=x.CancellationStrategy||(x.CancellationStrategy={}));var qa;(function(e){function t(i){let n=i;return n&&(hn.is(n.cancellationStrategy)||Oo.is(n.connectionStrategy))}e.is=t})(qa=x.ConnectionOptions||(x.ConnectionOptions={}));var xe;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(xe||(xe={}));function xa(e,t,i,n){let r=i!==void 0?i:x.NullLogger,o=0,a=0,l=0,d="2.0",f,b=new Map,v,y=new Map,m=new Map,P,C=new qo.LinkedMap,j=new Map,O=new Set,B=new Map,A=U.Off,Re=qe.Text,Q,ge=xe.New,$e=new $t.Emitter,_e=new $t.Emitter,Ce=new $t.Emitter,pt=new $t.Emitter,jt=new $t.Emitter,rt=n&&n.cancellationStrategy?n.cancellationStrategy:hn.Message;function Ae(c){if(c===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+c.toString()}function ht(c){return c===null?"res-unknown-"+(++l).toString():"res-"+c.toString()}function D(){return"not-"+(++a).toString()}function p(c,g){k.Message.isRequest(g)?c.set(Ae(g.id),g):k.Message.isResponse(g)?c.set(ht(g.id),g):c.set(D(),g)}function R(c){}function T(){return ge===xe.Listening}function M(){return ge===xe.Closed}function N(){return ge===xe.Disposed}function L(){(ge===xe.New||ge===xe.Listening)&&(ge=xe.Closed,_e.fire(void 0))}function te(c){$e.fire([c,void 0,void 0])}function fe(c){$e.fire(c)}e.onClose(L),e.onError(te),t.onClose(L),t.onError(fe);function De(){P||C.size===0||(P=(0,So.default)().timer.setImmediate(()=>{P=void 0,gt()}))}function gt(){if(C.size===0)return;let c=C.shift();try{k.Message.isRequest(c)?Hs(c):k.Message.isNotification(c)?Vs(c):k.Message.isResponse(c)?zs(c):Bs(c)}finally{De()}}let Qe=c=>{try{if(k.Message.isNotification(c)&&c.method===Ht.type.method){let g=c.params.id,w=Ae(g),S=C.get(w);if(k.Message.isRequest(S)){let X=n==null?void 0:n.connectionStrategy,$=X&&X.cancelUndispatched?X.cancelUndispatched(S,R):R(S);if($&&($.error!==void 0||$.result!==void 0)){C.delete(w),B.delete(g),$.id=S.id,ur($,c.method,Date.now()),t.write($).catch(()=>r.error("Sending response for canceled message failed."));return}}let J=B.get(g);if(J!==void 0){J.cancel(),Lr(c);return}else O.add(g)}p(C,c)}finally{De()}};function Hs(c){var ae;if(N())return;function g(W,K,H){let re={jsonrpc:d,id:c.id};W instanceof k.ResponseError?re.error=W.toJson():re.result=W===void 0?null:W,ur(re,K,H),t.write(re).catch(()=>r.error("Sending response failed."))}function w(W,K,H){let re={jsonrpc:d,id:c.id,error:W.toJson()};ur(re,K,H),t.write(re).catch(()=>r.error("Sending response failed."))}function S(W,K,H){W===void 0&&(W=null);let re={jsonrpc:d,id:c.id,result:W};ur(re,K,H),t.write(re).catch(()=>r.error("Sending response failed."))}Qs(c);let J=b.get(c.method),X,$;J&&(X=J.type,$=J.handler);let se=Date.now();if($||f){let W=(ae=c.id)!=null?ae:String(Date.now()),K=rt.receiver.createCancellationTokenSource(W);c.id!==null&&O.has(c.id)&&K.cancel(),c.id!==null&&B.set(W,K);try{let H;if($)if(c.params===void 0){if(X!==void 0&&X.numberOfParams!==0){w(new k.ResponseError(k.ErrorCodes.InvalidParams,`Request ${c.method} defines ${X.numberOfParams} params but received none.`),c.method,se);return}H=$(K.token)}else if(Array.isArray(c.params)){if(X!==void 0&&X.parameterStructures===k.ParameterStructures.byName){w(new k.ResponseError(k.ErrorCodes.InvalidParams,`Request ${c.method} defines parameters by name but received parameters by position`),c.method,se);return}H=$(...c.params,K.token)}else{if(X!==void 0&&X.parameterStructures===k.ParameterStructures.byPosition){w(new k.ResponseError(k.ErrorCodes.InvalidParams,`Request ${c.method} defines parameters by position but received parameters by name`),c.method,se);return}H=$(c.params,K.token)}else f&&(H=f(c.method,c.params,K.token));let re=H;H?re.then?re.then(me=>{B.delete(W),g(me,c.method,se)},me=>{B.delete(W),me instanceof k.ResponseError?w(me,c.method,se):me&&oe.string(me.message)?w(new k.ResponseError(k.ErrorCodes.InternalError,`Request ${c.method} failed with message: ${me.message}`),c.method,se):w(new k.ResponseError(k.ErrorCodes.InternalError,`Request ${c.method} failed unexpectedly without providing any details.`),c.method,se)}):(B.delete(W),g(H,c.method,se)):(B.delete(W),S(H,c.method,se))}catch(H){B.delete(W),H instanceof k.ResponseError?g(H,c.method,se):H&&oe.string(H.message)?w(new k.ResponseError(k.ErrorCodes.InternalError,`Request ${c.method} failed with message: ${H.message}`),c.method,se):w(new k.ResponseError(k.ErrorCodes.InternalError,`Request ${c.method} failed unexpectedly without providing any details.`),c.method,se)}}else w(new k.ResponseError(k.ErrorCodes.MethodNotFound,`Unhandled method ${c.method}`),c.method,se)}function zs(c){if(!N())if(c.id===null)c.error?r.error(`Received response message without id: Error is: 
${JSON.stringify(c.error,void 0,4)}`):r.error("Received response message without id. No further error information provided.");else{let g=c.id,w=j.get(g);if(Gs(c,w),w!==void 0){j.delete(g);try{if(c.error){let S=c.error;w.reject(new k.ResponseError(S.code,S.message,S.data))}else if(c.result!==void 0)w.resolve(c.result);else throw new Error("Should never happen.")}catch(S){S.message?r.error(`Response handler '${w.method}' failed with message: ${S.message}`):r.error(`Response handler '${w.method}' failed unexpectedly.`)}}}}function Vs(c){if(N())return;let g,w;if(c.method===Ht.type.method){let S=c.params.id;O.delete(S),Lr(c);return}else{let S=y.get(c.method);S&&(w=S.handler,g=S.type)}if(w||v)try{if(Lr(c),w)if(c.params===void 0)g!==void 0&&g.numberOfParams!==0&&g.parameterStructures!==k.ParameterStructures.byName&&r.error(`Notification ${c.method} defines ${g.numberOfParams} params but received none.`),w();else if(Array.isArray(c.params)){let S=c.params;c.method===zt.type.method&&S.length===2&&xo.is(S[0])?w({token:S[0],value:S[1]}):(g!==void 0&&(g.parameterStructures===k.ParameterStructures.byName&&r.error(`Notification ${c.method} defines parameters by name but received parameters by position`),g.numberOfParams!==c.params.length&&r.error(`Notification ${c.method} defines ${g.numberOfParams} params but received ${S.length} arguments`)),w(...S))}else g!==void 0&&g.parameterStructures===k.ParameterStructures.byPosition&&r.error(`Notification ${c.method} defines parameters by position but received parameters by name`),w(c.params);else v&&v(c.method,c.params)}catch(S){S.message?r.error(`Notification handler '${c.method}' failed with message: ${S.message}`):r.error(`Notification handler '${c.method}' failed unexpectedly.`)}else Ce.fire(c)}function Bs(c){if(!c){r.error("Received empty message.");return}r.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(c,null,4)}`);let g=c;if(oe.string(g.id)||oe.number(g.id)){let w=g.id,S=j.get(w);S&&S.reject(new Error("The received response has neither a result nor an error property."))}}function Ge(c){if(c!=null)switch(A){case U.Verbose:return JSON.stringify(c,null,4);case U.Compact:return JSON.stringify(c);default:return}}function Js(c){if(!(A===U.Off||!Q))if(Re===qe.Text){let g;(A===U.Verbose||A===U.Compact)&&c.params&&(g=`Params: ${Ge(c.params)}

`),Q.log(`Sending request '${c.method} - (${c.id})'.`,g)}else mt("send-request",c)}function Xs(c){if(!(A===U.Off||!Q))if(Re===qe.Text){let g;(A===U.Verbose||A===U.Compact)&&(c.params?g=`Params: ${Ge(c.params)}

`:g=`No parameters provided.

`),Q.log(`Sending notification '${c.method}'.`,g)}else mt("send-notification",c)}function ur(c,g,w){if(!(A===U.Off||!Q))if(Re===qe.Text){let S;(A===U.Verbose||A===U.Compact)&&(c.error&&c.error.data?S=`Error data: ${Ge(c.error.data)}

`:c.result?S=`Result: ${Ge(c.result)}

`:c.error===void 0&&(S=`No result returned.

`)),Q.log(`Sending response '${g} - (${c.id})'. Processing request took ${Date.now()-w}ms`,S)}else mt("send-response",c)}function Qs(c){if(!(A===U.Off||!Q))if(Re===qe.Text){let g;(A===U.Verbose||A===U.Compact)&&c.params&&(g=`Params: ${Ge(c.params)}

`),Q.log(`Received request '${c.method} - (${c.id})'.`,g)}else mt("receive-request",c)}function Lr(c){if(!(A===U.Off||!Q||c.method===ln.type.method))if(Re===qe.Text){let g;(A===U.Verbose||A===U.Compact)&&(c.params?g=`Params: ${Ge(c.params)}

`:g=`No parameters provided.

`),Q.log(`Received notification '${c.method}'.`,g)}else mt("receive-notification",c)}function Gs(c,g){if(!(A===U.Off||!Q))if(Re===qe.Text){let w;if((A===U.Verbose||A===U.Compact)&&(c.error&&c.error.data?w=`Error data: ${Ge(c.error.data)}

`:c.result?w=`Result: ${Ge(c.result)}

`:c.error===void 0&&(w=`No result returned.

`)),g){let S=c.error?` Request failed: ${c.error.message} (${c.error.code}).`:"";Q.log(`Received response '${g.method} - (${c.id})' in ${Date.now()-g.timerStart}ms.${S}`,w)}else Q.log(`Received response ${c.id} without active response promise.`,w)}else mt("receive-response",c)}function mt(c,g){if(!Q||A===U.Off)return;let w={isLSPMessage:!0,type:c,message:g,timestamp:Date.now()};Q.log(w)}function At(){if(M())throw new ct(mr.Closed,"Connection is closed.");if(N())throw new ct(mr.Disposed,"Connection is disposed.")}function Zs(){if(T())throw new ct(mr.AlreadyListening,"Connection is already listening")}function Ys(){if(!T())throw new Error("Call listen() first.")}function Lt(c){return c===void 0?null:c}function Ti(c){if(c!==null)return c}function wi(c){return c!=null&&!Array.isArray(c)&&typeof c=="object"}function Ir(c,g){switch(c){case k.ParameterStructures.auto:return wi(g)?Ti(g):[Lt(g)];case k.ParameterStructures.byName:if(!wi(g))throw new Error("Received parameters by name but param is not an object literal.");return Ti(g);case k.ParameterStructures.byPosition:return[Lt(g)];default:throw new Error(`Unknown parameter structure ${c.toString()}`)}}function Pi(c,g){let w,S=c.numberOfParams;switch(S){case 0:w=void 0;break;case 1:w=Ir(c.parameterStructures,g[0]);break;default:w=[];for(let J=0;J<g.length&&J<S;J++)w.push(Lt(g[J]));if(g.length<S)for(let J=g.length;J<S;J++)w.push(null);break}return w}let yt={sendNotification:(c,...g)=>{At();let w,S;if(oe.string(c)){w=c;let X=g[0],$=0,se=k.ParameterStructures.auto;k.ParameterStructures.is(X)&&($=1,se=X);let ae=g.length,W=ae-$;switch(W){case 0:S=void 0;break;case 1:S=Ir(se,g[$]);break;default:if(se===k.ParameterStructures.byName)throw new Error(`Received ${W} parameters for 'by Name' notification parameter structure.`);S=g.slice($,ae).map(K=>Lt(K));break}}else{let X=g;w=c.method,S=Pi(c,X)}let J={jsonrpc:d,method:w,params:S};return Xs(J),t.write(J).catch(()=>r.error("Sending notification failed."))},onNotification:(c,g)=>{At();let w;return oe.func(c)?v=c:g&&(oe.string(c)?(w=c,y.set(c,{type:void 0,handler:g})):(w=c.method,y.set(c.method,{type:c,handler:g}))),{dispose:()=>{w!==void 0?y.delete(w):v=void 0}}},onProgress:(c,g,w)=>{if(m.has(g))throw new Error(`Progress handler for token ${g} already registered`);return m.set(g,w),{dispose:()=>{m.delete(g)}}},sendProgress:(c,g,w)=>yt.sendNotification(zt.type,{token:g,value:w}),onUnhandledProgress:pt.event,sendRequest:(c,...g)=>{At(),Ys();let w,S,J;if(oe.string(c)){w=c;let ae=g[0],W=g[g.length-1],K=0,H=k.ParameterStructures.auto;k.ParameterStructures.is(ae)&&(K=1,H=ae);let re=g.length;un.CancellationToken.is(W)&&(re=re-1,J=W);let me=re-K;switch(me){case 0:S=void 0;break;case 1:S=Ir(H,g[K]);break;default:if(H===k.ParameterStructures.byName)throw new Error(`Received ${me} parameters for 'by Name' request parameter structure.`);S=g.slice(K,re).map(Ze=>Lt(Ze));break}}else{let ae=g;w=c.method,S=Pi(c,ae);let W=c.numberOfParams;J=un.CancellationToken.is(ae[W])?ae[W]:void 0}let X=o++,$;return J&&($=J.onCancellationRequested(()=>{let ae=rt.sender.sendCancellation(yt,X);return ae===void 0?(r.log(`Received no promise from cancellation strategy when cancelling id ${X}`),Promise.resolve()):ae.catch(()=>{r.log(`Sending cancellation messages for id ${X} failed`)})})),new Promise((ae,W)=>{let K={jsonrpc:d,id:X,method:w,params:S},H=Ze=>{ae(Ze),rt.sender.cleanup(X),$==null||$.dispose()},re=Ze=>{W(Ze),rt.sender.cleanup(X),$==null||$.dispose()},me={method:w,timerStart:Date.now(),resolve:H,reject:re};Js(K);try{t.write(K).catch(()=>r.error("Sending request failed."))}catch(Ze){me.reject(new k.ResponseError(k.ErrorCodes.MessageWriteError,Ze.message?Ze.message:"Unknown reason")),me=null}me&&j.set(X,me)})},onRequest:(c,g)=>{At();let w=null;return dn.is(c)?(w=void 0,f=c):oe.string(c)?(w=null,g!==void 0&&(w=c,b.set(c,{handler:g,type:void 0}))):g!==void 0&&(w=c.method,b.set(c.method,{type:c,handler:g})),{dispose:()=>{w!==null&&(w!==void 0?b.delete(w):f=void 0)}}},hasPendingResponse:()=>j.size>0,trace:async(c,g,w)=>{let S=!1,J=qe.Text;w!==void 0&&(oe.boolean(w)?S=w:(S=w.sendNotification||!1,J=w.traceFormat||qe.Text)),A=c,Re=J,A===U.Off?Q=void 0:Q=g,S&&!M()&&!N()&&await yt.sendNotification(No.type,{value:U.toString(c)})},onError:$e.event,onClose:_e.event,onUnhandledNotification:Ce.event,onDispose:jt.event,end:()=>{t.end()},dispose:()=>{if(N())return;ge=xe.Disposed,jt.fire(void 0);let c=new k.ResponseError(k.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let g of j.values())g.reject(c);j=new Map,B=new Map,O=new Set,C=new qo.LinkedMap,oe.func(t.dispose)&&t.dispose(),oe.func(e.dispose)&&e.dispose()},listen:()=>{At(),Zs(),ge=xe.Listening,e.listen(Qe)},inspect:()=>{(0,So.default)().console.log("inspect")}};return yt.onNotification(ln.type,c=>{if(A===U.Off||!Q)return;let g=A===U.Verbose||A===U.Compact;Q.log(c.message,g?c.verbose:void 0)}),yt.onNotification(zt.type,c=>{let g=m.get(c.token);g?g(c.value):pt.fire(c)}),yt}x.createMessageConnection=xa});var vn=E(h=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0});h.TraceFormat=h.TraceValues=h.Trace=h.ProgressType=h.ProgressToken=h.createMessageConnection=h.NullLogger=h.ConnectionOptions=h.ConnectionStrategy=h.WriteableStreamMessageWriter=h.AbstractMessageWriter=h.MessageWriter=h.ReadableStreamMessageReader=h.AbstractMessageReader=h.MessageReader=h.CancellationToken=h.CancellationTokenSource=h.Emitter=h.Event=h.Disposable=h.LRUCache=h.Touch=h.LinkedMap=h.ParameterStructures=h.NotificationType9=h.NotificationType8=h.NotificationType7=h.NotificationType6=h.NotificationType5=h.NotificationType4=h.NotificationType3=h.NotificationType2=h.NotificationType1=h.NotificationType0=h.NotificationType=h.ErrorCodes=h.ResponseError=h.RequestType9=h.RequestType8=h.RequestType7=h.RequestType6=h.RequestType5=h.RequestType4=h.RequestType3=h.RequestType2=h.RequestType1=h.RequestType0=h.RequestType=h.Message=h.RAL=void 0;h.CancellationStrategy=h.CancellationSenderStrategy=h.CancellationReceiverStrategy=h.ConnectionError=h.ConnectionErrors=h.LogTraceNotification=h.SetTraceNotification=void 0;var z=Qr();Object.defineProperty(h,"Message",{enumerable:!0,get:function(){return z.Message}});Object.defineProperty(h,"RequestType",{enumerable:!0,get:function(){return z.RequestType}});Object.defineProperty(h,"RequestType0",{enumerable:!0,get:function(){return z.RequestType0}});Object.defineProperty(h,"RequestType1",{enumerable:!0,get:function(){return z.RequestType1}});Object.defineProperty(h,"RequestType2",{enumerable:!0,get:function(){return z.RequestType2}});Object.defineProperty(h,"RequestType3",{enumerable:!0,get:function(){return z.RequestType3}});Object.defineProperty(h,"RequestType4",{enumerable:!0,get:function(){return z.RequestType4}});Object.defineProperty(h,"RequestType5",{enumerable:!0,get:function(){return z.RequestType5}});Object.defineProperty(h,"RequestType6",{enumerable:!0,get:function(){return z.RequestType6}});Object.defineProperty(h,"RequestType7",{enumerable:!0,get:function(){return z.RequestType7}});Object.defineProperty(h,"RequestType8",{enumerable:!0,get:function(){return z.RequestType8}});Object.defineProperty(h,"RequestType9",{enumerable:!0,get:function(){return z.RequestType9}});Object.defineProperty(h,"ResponseError",{enumerable:!0,get:function(){return z.ResponseError}});Object.defineProperty(h,"ErrorCodes",{enumerable:!0,get:function(){return z.ErrorCodes}});Object.defineProperty(h,"NotificationType",{enumerable:!0,get:function(){return z.NotificationType}});Object.defineProperty(h,"NotificationType0",{enumerable:!0,get:function(){return z.NotificationType0}});Object.defineProperty(h,"NotificationType1",{enumerable:!0,get:function(){return z.NotificationType1}});Object.defineProperty(h,"NotificationType2",{enumerable:!0,get:function(){return z.NotificationType2}});Object.defineProperty(h,"NotificationType3",{enumerable:!0,get:function(){return z.NotificationType3}});Object.defineProperty(h,"NotificationType4",{enumerable:!0,get:function(){return z.NotificationType4}});Object.defineProperty(h,"NotificationType5",{enumerable:!0,get:function(){return z.NotificationType5}});Object.defineProperty(h,"NotificationType6",{enumerable:!0,get:function(){return z.NotificationType6}});Object.defineProperty(h,"NotificationType7",{enumerable:!0,get:function(){return z.NotificationType7}});Object.defineProperty(h,"NotificationType8",{enumerable:!0,get:function(){return z.NotificationType8}});Object.defineProperty(h,"NotificationType9",{enumerable:!0,get:function(){return z.NotificationType9}});Object.defineProperty(h,"ParameterStructures",{enumerable:!0,get:function(){return z.ParameterStructures}});var gn=Zr();Object.defineProperty(h,"LinkedMap",{enumerable:!0,get:function(){return gn.LinkedMap}});Object.defineProperty(h,"LRUCache",{enumerable:!0,get:function(){return gn.LRUCache}});Object.defineProperty(h,"Touch",{enumerable:!0,get:function(){return gn.Touch}});var ka=Br();Object.defineProperty(h,"Disposable",{enumerable:!0,get:function(){return ka.Disposable}});var Mo=Rt();Object.defineProperty(h,"Event",{enumerable:!0,get:function(){return Mo.Event}});Object.defineProperty(h,"Emitter",{enumerable:!0,get:function(){return Mo.Emitter}});var jo=tn();Object.defineProperty(h,"CancellationTokenSource",{enumerable:!0,get:function(){return jo.CancellationTokenSource}});Object.defineProperty(h,"CancellationToken",{enumerable:!0,get:function(){return jo.CancellationToken}});var mn=bo();Object.defineProperty(h,"MessageReader",{enumerable:!0,get:function(){return mn.MessageReader}});Object.defineProperty(h,"AbstractMessageReader",{enumerable:!0,get:function(){return mn.AbstractMessageReader}});Object.defineProperty(h,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return mn.ReadableStreamMessageReader}});var yn=Co();Object.defineProperty(h,"MessageWriter",{enumerable:!0,get:function(){return yn.MessageWriter}});Object.defineProperty(h,"AbstractMessageWriter",{enumerable:!0,get:function(){return yn.AbstractMessageWriter}});Object.defineProperty(h,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return yn.WriteableStreamMessageWriter}});var he=Eo();Object.defineProperty(h,"ConnectionStrategy",{enumerable:!0,get:function(){return he.ConnectionStrategy}});Object.defineProperty(h,"ConnectionOptions",{enumerable:!0,get:function(){return he.ConnectionOptions}});Object.defineProperty(h,"NullLogger",{enumerable:!0,get:function(){return he.NullLogger}});Object.defineProperty(h,"createMessageConnection",{enumerable:!0,get:function(){return he.createMessageConnection}});Object.defineProperty(h,"ProgressToken",{enumerable:!0,get:function(){return he.ProgressToken}});Object.defineProperty(h,"ProgressType",{enumerable:!0,get:function(){return he.ProgressType}});Object.defineProperty(h,"Trace",{enumerable:!0,get:function(){return he.Trace}});Object.defineProperty(h,"TraceValues",{enumerable:!0,get:function(){return he.TraceValues}});Object.defineProperty(h,"TraceFormat",{enumerable:!0,get:function(){return he.TraceFormat}});Object.defineProperty(h,"SetTraceNotification",{enumerable:!0,get:function(){return he.SetTraceNotification}});Object.defineProperty(h,"LogTraceNotification",{enumerable:!0,get:function(){return he.LogTraceNotification}});Object.defineProperty(h,"ConnectionErrors",{enumerable:!0,get:function(){return he.ConnectionErrors}});Object.defineProperty(h,"ConnectionError",{enumerable:!0,get:function(){return he.ConnectionError}});Object.defineProperty(h,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return he.CancellationReceiverStrategy}});Object.defineProperty(h,"CancellationSenderStrategy",{enumerable:!0,get:function(){return he.CancellationSenderStrategy}});Object.defineProperty(h,"CancellationStrategy",{enumerable:!0,get:function(){return he.CancellationStrategy}});var Na=He();h.RAL=Na.default});var ut=E(F=>{"use strict";var Oa=F&&F.__createBinding||(Object.create?function(e,t,i,n){n===void 0&&(n=i);var r=Object.getOwnPropertyDescriptor(t,i);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,r)}:function(e,t,i,n){n===void 0&&(n=i),e[n]=t[i]}),Ea=F&&F.__exportStar||function(e,t){for(var i in e)i!=="default"&&!Object.prototype.hasOwnProperty.call(t,i)&&Oa(t,e,i)};Object.defineProperty(F,"__esModule",{value:!0});F.createMessageConnection=F.createServerSocketTransport=F.createClientSocketTransport=F.createServerPipeTransport=F.createClientPipeTransport=F.generateRandomPipeName=F.StreamMessageWriter=F.StreamMessageReader=F.SocketMessageWriter=F.SocketMessageReader=F.IPCMessageWriter=F.IPCMessageReader=void 0;var Dt=Ui();Dt.default.install();var Le=vn(),Ao=require("path"),Ma=require("os"),ja=require("crypto"),yr=require("net");Ea(vn(),F);var Lo=class extends Le.AbstractMessageReader{constructor(t){super();this.process=t;let i=this.process;i.on("error",n=>this.fireError(n)),i.on("close",()=>this.fireClose())}listen(t){return this.process.on("message",t),Le.Disposable.create(()=>this.process.off("message",t))}};F.IPCMessageReader=Lo;var Io=class extends Le.AbstractMessageWriter{constructor(t){super();this.process=t,this.errorCount=0;let i=this.process;i.on("error",n=>this.fireError(n)),i.on("close",()=>this.fireClose)}write(t){try{return typeof this.process.send=="function"&&this.process.send(t,void 0,void 0,i=>{i?(this.errorCount++,this.handleError(i,t)):this.errorCount=0}),Promise.resolve()}catch(i){return this.handleError(i,t),Promise.reject(i)}}handleError(t,i){this.errorCount++,this.fireError(t,i,this.errorCount)}end(){}};F.IPCMessageWriter=Io;var Tt=class extends Le.ReadableStreamMessageReader{constructor(t,i="utf-8"){super((0,Dt.default)().stream.asReadableStream(t),i)}};F.SocketMessageReader=Tt;var wt=class extends Le.WriteableStreamMessageWriter{constructor(t,i){super((0,Dt.default)().stream.asWritableStream(t),i);this.socket=t}dispose(){super.dispose(),this.socket.destroy()}};F.SocketMessageWriter=wt;var bn=class extends Le.ReadableStreamMessageReader{constructor(t,i){super((0,Dt.default)().stream.asReadableStream(t),i)}};F.StreamMessageReader=bn;var Rn=class extends Le.WriteableStreamMessageWriter{constructor(t,i){super((0,Dt.default)().stream.asWritableStream(t),i)}};F.StreamMessageWriter=Rn;var Fo=process.env.XDG_RUNTIME_DIR,Aa=new Map([["linux",107],["darwin",103]]);function La(){let e=(0,ja.randomBytes)(21).toString("hex");if(process.platform==="win32")return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;Fo?t=Ao.join(Fo,`vscode-ipc-${e}.sock`):t=Ao.join(Ma.tmpdir(),`vscode-${e}.sock`);let i=Aa.get(process.platform);return i!==void 0&&t.length>=i&&(0,Dt.default)().console.warn(`WARNING: IPC handle "${t}" is longer than ${i} characters.`),t}F.generateRandomPipeName=La;function Ia(e,t="utf-8"){let i,n=new Promise((r,o)=>{i=r});return new Promise((r,o)=>{let a=(0,yr.createServer)(l=>{a.close(),i([new Tt(l,t),new wt(l,t)])});a.on("error",o),a.listen(e,()=>{a.removeListener("error",o),r({onConnected:()=>n})})})}F.createClientPipeTransport=Ia;function Fa(e,t="utf-8"){let i=(0,yr.createConnection)(e);return[new Tt(i,t),new wt(i,t)]}F.createServerPipeTransport=Fa;function Wa(e,t="utf-8"){let i,n=new Promise((r,o)=>{i=r});return new Promise((r,o)=>{let a=(0,yr.createServer)(l=>{a.close(),i([new Tt(l,t),new wt(l,t)])});a.on("error",o),a.listen(e,"127.0.0.1",()=>{a.removeListener("error",o),r({onConnected:()=>n})})})}F.createClientSocketTransport=Wa;function Ua(e,t="utf-8"){let i=(0,yr.createConnection)(e,"127.0.0.1");return[new Tt(i,t),new wt(i,t)]}F.createServerSocketTransport=Ua;function $a(e){let t=e;return t.read!==void 0&&t.addListener!==void 0}function Ha(e){let t=e;return t.write!==void 0&&t.addListener!==void 0}function za(e,t,i,n){i||(i=Le.NullLogger);let r=$a(e)?new bn(e):e,o=Ha(t)?new Rn(t):t;return Le.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,Le.createMessageConnection)(r,o,i,n)}F.createMessageConnection=za});var _n=E((Kd,Wo)=>{"use strict";Wo.exports=ut()});var Cr={};Si(Cr,{AnnotatedTextEdit:()=>Je,ChangeAnnotation:()=>lt,ChangeAnnotationIdentifier:()=>ue,CodeAction:()=>ti,CodeActionContext:()=>ei,CodeActionKind:()=>Kn,CodeActionTriggerKind:()=>Zt,CodeDescription:()=>Nn,CodeLens:()=>ri,Color:()=>br,ColorInformation:()=>Pn,ColorPresentation:()=>Cn,Command:()=>dt,CompletionItem:()=>Un,CompletionItemKind:()=>jn,CompletionItemLabelDetails:()=>Wn,CompletionItemTag:()=>Ln,CompletionList:()=>$n,CreateFile:()=>Pt,DeleteFile:()=>St,Diagnostic:()=>Jt,DiagnosticRelatedInformation:()=>Rr,DiagnosticSeverity:()=>xn,DiagnosticTag:()=>kn,DocumentHighlight:()=>Jn,DocumentHighlightKind:()=>Bn,DocumentLink:()=>ii,DocumentSymbol:()=>Yn,DocumentUri:()=>Dn,EOL:()=>Ba,FoldingRange:()=>qn,FoldingRangeKind:()=>Sn,FormattingOptions:()=>ni,Hover:()=>Hn,InlayHint:()=>pi,InlayHintKind:()=>wr,InlayHintLabelPart:()=>Pr,InlineValueContext:()=>fi,InlineValueEvaluatableExpression:()=>li,InlineValueText:()=>ui,InlineValueVariableLookup:()=>di,InsertReplaceEdit:()=>In,InsertTextFormat:()=>An,InsertTextMode:()=>Fn,Location:()=>Bt,LocationLink:()=>wn,MarkedString:()=>Gt,MarkupContent:()=>qt,MarkupKind:()=>Tr,OptionalVersionedTextDocumentIdentifier:()=>Qt,ParameterInformation:()=>zn,Position:()=>we,Range:()=>ee,RenameFile:()=>Ct,SelectionRange:()=>oi,SemanticTokenModifiers:()=>ai,SemanticTokenTypes:()=>si,SemanticTokens:()=>ci,SignatureInformation:()=>Vn,SymbolInformation:()=>Gn,SymbolKind:()=>Xn,SymbolTag:()=>Qn,TextDocument:()=>gi,TextDocumentEdit:()=>Xt,TextDocumentIdentifier:()=>On,TextDocumentItem:()=>Mn,TextEdit:()=>Ie,URI:()=>vr,VersionedTextDocumentIdentifier:()=>En,WorkspaceChange:()=>Va,WorkspaceEdit:()=>_r,WorkspaceFolder:()=>hi,WorkspaceSymbol:()=>Zn,integer:()=>Tn,uinteger:()=>Vt});var Dn,vr,Tn,Vt,we,ee,Bt,wn,br,Pn,Cn,Sn,qn,Rr,xn,kn,Nn,Jt,dt,Ie,lt,ue,Je,Xt,Pt,Ct,St,_r,Dr,Uo,Va,On,En,Qt,Mn,Tr,qt,jn,An,Ln,In,Fn,Wn,Un,$n,Gt,Hn,zn,Vn,Bn,Jn,Xn,Qn,Gn,Zn,Yn,Kn,Zt,ei,ti,ri,ni,ii,oi,si,ai,ci,ui,di,li,fi,wr,Pr,pi,hi,Ba,gi,Ja,u,Sr=ia(()=>{"use strict";(function(e){function t(i){return typeof i=="string"}e.is=t})(Dn||(Dn={}));(function(e){function t(i){return typeof i=="string"}e.is=t})(vr||(vr={}));(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(i){return typeof i=="number"&&e.MIN_VALUE<=i&&i<=e.MAX_VALUE}e.is=t})(Tn||(Tn={}));(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(i){return typeof i=="number"&&e.MIN_VALUE<=i&&i<=e.MAX_VALUE}e.is=t})(Vt||(Vt={}));(function(e){function t(n,r){return n===Number.MAX_VALUE&&(n=Vt.MAX_VALUE),r===Number.MAX_VALUE&&(r=Vt.MAX_VALUE),{line:n,character:r}}e.create=t;function i(n){var r=n;return u.objectLiteral(r)&&u.uinteger(r.line)&&u.uinteger(r.character)}e.is=i})(we||(we={}));(function(e){function t(n,r,o,a){if(u.uinteger(n)&&u.uinteger(r)&&u.uinteger(o)&&u.uinteger(a))return{start:we.create(n,r),end:we.create(o,a)};if(we.is(n)&&we.is(r))return{start:n,end:r};throw new Error("Range#create called with invalid arguments[".concat(n,", ").concat(r,", ").concat(o,", ").concat(a,"]"))}e.create=t;function i(n){var r=n;return u.objectLiteral(r)&&we.is(r.start)&&we.is(r.end)}e.is=i})(ee||(ee={}));(function(e){function t(n,r){return{uri:n,range:r}}e.create=t;function i(n){var r=n;return u.objectLiteral(r)&&ee.is(r.range)&&(u.string(r.uri)||u.undefined(r.uri))}e.is=i})(Bt||(Bt={}));(function(e){function t(n,r,o,a){return{targetUri:n,targetRange:r,targetSelectionRange:o,originSelectionRange:a}}e.create=t;function i(n){var r=n;return u.objectLiteral(r)&&ee.is(r.targetRange)&&u.string(r.targetUri)&&ee.is(r.targetSelectionRange)&&(ee.is(r.originSelectionRange)||u.undefined(r.originSelectionRange))}e.is=i})(wn||(wn={}));(function(e){function t(n,r,o,a){return{red:n,green:r,blue:o,alpha:a}}e.create=t;function i(n){var r=n;return u.objectLiteral(r)&&u.numberRange(r.red,0,1)&&u.numberRange(r.green,0,1)&&u.numberRange(r.blue,0,1)&&u.numberRange(r.alpha,0,1)}e.is=i})(br||(br={}));(function(e){function t(n,r){return{range:n,color:r}}e.create=t;function i(n){var r=n;return u.objectLiteral(r)&&ee.is(r.range)&&br.is(r.color)}e.is=i})(Pn||(Pn={}));(function(e){function t(n,r,o){return{label:n,textEdit:r,additionalTextEdits:o}}e.create=t;function i(n){var r=n;return u.objectLiteral(r)&&u.string(r.label)&&(u.undefined(r.textEdit)||Ie.is(r))&&(u.undefined(r.additionalTextEdits)||u.typedArray(r.additionalTextEdits,Ie.is))}e.is=i})(Cn||(Cn={}));(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(Sn||(Sn={}));(function(e){function t(n,r,o,a,l,d){var f={startLine:n,endLine:r};return u.defined(o)&&(f.startCharacter=o),u.defined(a)&&(f.endCharacter=a),u.defined(l)&&(f.kind=l),u.defined(d)&&(f.collapsedText=d),f}e.create=t;function i(n){var r=n;return u.objectLiteral(r)&&u.uinteger(r.startLine)&&u.uinteger(r.startLine)&&(u.undefined(r.startCharacter)||u.uinteger(r.startCharacter))&&(u.undefined(r.endCharacter)||u.uinteger(r.endCharacter))&&(u.undefined(r.kind)||u.string(r.kind))}e.is=i})(qn||(qn={}));(function(e){function t(n,r){return{location:n,message:r}}e.create=t;function i(n){var r=n;return u.defined(r)&&Bt.is(r.location)&&u.string(r.message)}e.is=i})(Rr||(Rr={}));(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(xn||(xn={}));(function(e){e.Unnecessary=1,e.Deprecated=2})(kn||(kn={}));(function(e){function t(i){var n=i;return u.objectLiteral(n)&&u.string(n.href)}e.is=t})(Nn||(Nn={}));(function(e){function t(n,r,o,a,l,d){var f={range:n,message:r};return u.defined(o)&&(f.severity=o),u.defined(a)&&(f.code=a),u.defined(l)&&(f.source=l),u.defined(d)&&(f.relatedInformation=d),f}e.create=t;function i(n){var r,o=n;return u.defined(o)&&ee.is(o.range)&&u.string(o.message)&&(u.number(o.severity)||u.undefined(o.severity))&&(u.integer(o.code)||u.string(o.code)||u.undefined(o.code))&&(u.undefined(o.codeDescription)||u.string((r=o.codeDescription)===null||r===void 0?void 0:r.href))&&(u.string(o.source)||u.undefined(o.source))&&(u.undefined(o.relatedInformation)||u.typedArray(o.relatedInformation,Rr.is))}e.is=i})(Jt||(Jt={}));(function(e){function t(n,r){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var l={title:n,command:r};return u.defined(o)&&o.length>0&&(l.arguments=o),l}e.create=t;function i(n){var r=n;return u.defined(r)&&u.string(r.title)&&u.string(r.command)}e.is=i})(dt||(dt={}));(function(e){function t(o,a){return{range:o,newText:a}}e.replace=t;function i(o,a){return{range:{start:o,end:o},newText:a}}e.insert=i;function n(o){return{range:o,newText:""}}e.del=n;function r(o){var a=o;return u.objectLiteral(a)&&u.string(a.newText)&&ee.is(a.range)}e.is=r})(Ie||(Ie={}));(function(e){function t(n,r,o){var a={label:n};return r!==void 0&&(a.needsConfirmation=r),o!==void 0&&(a.description=o),a}e.create=t;function i(n){var r=n;return u.objectLiteral(r)&&u.string(r.label)&&(u.boolean(r.needsConfirmation)||r.needsConfirmation===void 0)&&(u.string(r.description)||r.description===void 0)}e.is=i})(lt||(lt={}));(function(e){function t(i){var n=i;return u.string(n)}e.is=t})(ue||(ue={}));(function(e){function t(o,a,l){return{range:o,newText:a,annotationId:l}}e.replace=t;function i(o,a,l){return{range:{start:o,end:o},newText:a,annotationId:l}}e.insert=i;function n(o,a){return{range:o,newText:"",annotationId:a}}e.del=n;function r(o){var a=o;return Ie.is(a)&&(lt.is(a.annotationId)||ue.is(a.annotationId))}e.is=r})(Je||(Je={}));(function(e){function t(n,r){return{textDocument:n,edits:r}}e.create=t;function i(n){var r=n;return u.defined(r)&&Qt.is(r.textDocument)&&Array.isArray(r.edits)}e.is=i})(Xt||(Xt={}));(function(e){function t(n,r,o){var a={kind:"create",uri:n};return r!==void 0&&(r.overwrite!==void 0||r.ignoreIfExists!==void 0)&&(a.options=r),o!==void 0&&(a.annotationId=o),a}e.create=t;function i(n){var r=n;return r&&r.kind==="create"&&u.string(r.uri)&&(r.options===void 0||(r.options.overwrite===void 0||u.boolean(r.options.overwrite))&&(r.options.ignoreIfExists===void 0||u.boolean(r.options.ignoreIfExists)))&&(r.annotationId===void 0||ue.is(r.annotationId))}e.is=i})(Pt||(Pt={}));(function(e){function t(n,r,o,a){var l={kind:"rename",oldUri:n,newUri:r};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(l.options=o),a!==void 0&&(l.annotationId=a),l}e.create=t;function i(n){var r=n;return r&&r.kind==="rename"&&u.string(r.oldUri)&&u.string(r.newUri)&&(r.options===void 0||(r.options.overwrite===void 0||u.boolean(r.options.overwrite))&&(r.options.ignoreIfExists===void 0||u.boolean(r.options.ignoreIfExists)))&&(r.annotationId===void 0||ue.is(r.annotationId))}e.is=i})(Ct||(Ct={}));(function(e){function t(n,r,o){var a={kind:"delete",uri:n};return r!==void 0&&(r.recursive!==void 0||r.ignoreIfNotExists!==void 0)&&(a.options=r),o!==void 0&&(a.annotationId=o),a}e.create=t;function i(n){var r=n;return r&&r.kind==="delete"&&u.string(r.uri)&&(r.options===void 0||(r.options.recursive===void 0||u.boolean(r.options.recursive))&&(r.options.ignoreIfNotExists===void 0||u.boolean(r.options.ignoreIfNotExists)))&&(r.annotationId===void 0||ue.is(r.annotationId))}e.is=i})(St||(St={}));(function(e){function t(i){var n=i;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(function(r){return u.string(r.kind)?Pt.is(r)||Ct.is(r)||St.is(r):Xt.is(r)}))}e.is=t})(_r||(_r={}));Dr=function(){function e(t,i){this.edits=t,this.changeAnnotations=i}return e.prototype.insert=function(t,i,n){var r,o;if(n===void 0?r=Ie.insert(t,i):ue.is(n)?(o=n,r=Je.insert(t,i,n)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(n),r=Je.insert(t,i,o)),this.edits.push(r),o!==void 0)return o},e.prototype.replace=function(t,i,n){var r,o;if(n===void 0?r=Ie.replace(t,i):ue.is(n)?(o=n,r=Je.replace(t,i,n)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(n),r=Je.replace(t,i,o)),this.edits.push(r),o!==void 0)return o},e.prototype.delete=function(t,i){var n,r;if(i===void 0?n=Ie.del(t):ue.is(i)?(r=i,n=Je.del(t,i)):(this.assertChangeAnnotations(this.changeAnnotations),r=this.changeAnnotations.manage(i),n=Je.del(t,r)),this.edits.push(n),r!==void 0)return r},e.prototype.add=function(t){this.edits.push(t)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e.prototype.assertChangeAnnotations=function(t){if(t===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},e}(),Uo=function(){function e(t){this._annotations=t===void 0?Object.create(null):t,this._counter=0,this._size=0}return e.prototype.all=function(){return this._annotations},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.manage=function(t,i){var n;if(ue.is(t)?n=t:(n=this.nextId(),i=t),this._annotations[n]!==void 0)throw new Error("Id ".concat(n," is already in use."));if(i===void 0)throw new Error("No annotation provided for id ".concat(n));return this._annotations[n]=i,this._size++,n},e.prototype.nextId=function(){return this._counter++,this._counter.toString()},e}(),Va=function(){function e(t){var i=this;this._textEditChanges=Object.create(null),t!==void 0?(this._workspaceEdit=t,t.documentChanges?(this._changeAnnotations=new Uo(t.changeAnnotations),t.changeAnnotations=this._changeAnnotations.all(),t.documentChanges.forEach(function(n){if(Xt.is(n)){var r=new Dr(n.edits,i._changeAnnotations);i._textEditChanges[n.textDocument.uri]=r}})):t.changes&&Object.keys(t.changes).forEach(function(n){var r=new Dr(t.changes[n]);i._textEditChanges[n]=r})):this._workspaceEdit={}}return Object.defineProperty(e.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),e.prototype.getTextEditChange=function(t){if(Qt.is(t)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var i={uri:t.uri,version:t.version},n=this._textEditChanges[i.uri];if(!n){var r=[],o={textDocument:i,edits:r};this._workspaceEdit.documentChanges.push(o),n=new Dr(r,this._changeAnnotations),this._textEditChanges[i.uri]=n}return n}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var n=this._textEditChanges[t];if(!n){var r=[];this._workspaceEdit.changes[t]=r,n=new Dr(r),this._textEditChanges[t]=n}return n}},e.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new Uo,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},e.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},e.prototype.createFile=function(t,i,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var r;lt.is(i)||ue.is(i)?r=i:n=i;var o,a;if(r===void 0?o=Pt.create(t,n):(a=ue.is(r)?r:this._changeAnnotations.manage(r),o=Pt.create(t,n,a)),this._workspaceEdit.documentChanges.push(o),a!==void 0)return a},e.prototype.renameFile=function(t,i,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var o;lt.is(n)||ue.is(n)?o=n:r=n;var a,l;if(o===void 0?a=Ct.create(t,i,r):(l=ue.is(o)?o:this._changeAnnotations.manage(o),a=Ct.create(t,i,r,l)),this._workspaceEdit.documentChanges.push(a),l!==void 0)return l},e.prototype.deleteFile=function(t,i,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var r;lt.is(i)||ue.is(i)?r=i:n=i;var o,a;if(r===void 0?o=St.create(t,n):(a=ue.is(r)?r:this._changeAnnotations.manage(r),o=St.create(t,n,a)),this._workspaceEdit.documentChanges.push(o),a!==void 0)return a},e}();(function(e){function t(n){return{uri:n}}e.create=t;function i(n){var r=n;return u.defined(r)&&u.string(r.uri)}e.is=i})(On||(On={}));(function(e){function t(n,r){return{uri:n,version:r}}e.create=t;function i(n){var r=n;return u.defined(r)&&u.string(r.uri)&&u.integer(r.version)}e.is=i})(En||(En={}));(function(e){function t(n,r){return{uri:n,version:r}}e.create=t;function i(n){var r=n;return u.defined(r)&&u.string(r.uri)&&(r.version===null||u.integer(r.version))}e.is=i})(Qt||(Qt={}));(function(e){function t(n,r,o,a){return{uri:n,languageId:r,version:o,text:a}}e.create=t;function i(n){var r=n;return u.defined(r)&&u.string(r.uri)&&u.string(r.languageId)&&u.integer(r.version)&&u.string(r.text)}e.is=i})(Mn||(Mn={}));(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(i){var n=i;return n===e.PlainText||n===e.Markdown}e.is=t})(Tr||(Tr={}));(function(e){function t(i){var n=i;return u.objectLiteral(i)&&Tr.is(n.kind)&&u.string(n.value)}e.is=t})(qt||(qt={}));(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(jn||(jn={}));(function(e){e.PlainText=1,e.Snippet=2})(An||(An={}));(function(e){e.Deprecated=1})(Ln||(Ln={}));(function(e){function t(n,r,o){return{newText:n,insert:r,replace:o}}e.create=t;function i(n){var r=n;return r&&u.string(r.newText)&&ee.is(r.insert)&&ee.is(r.replace)}e.is=i})(In||(In={}));(function(e){e.asIs=1,e.adjustIndentation=2})(Fn||(Fn={}));(function(e){function t(i){var n=i;return n&&(u.string(n.detail)||n.detail===void 0)&&(u.string(n.description)||n.description===void 0)}e.is=t})(Wn||(Wn={}));(function(e){function t(i){return{label:i}}e.create=t})(Un||(Un={}));(function(e){function t(i,n){return{items:i||[],isIncomplete:!!n}}e.create=t})($n||($n={}));(function(e){function t(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.fromPlainText=t;function i(n){var r=n;return u.string(r)||u.objectLiteral(r)&&u.string(r.language)&&u.string(r.value)}e.is=i})(Gt||(Gt={}));(function(e){function t(i){var n=i;return!!n&&u.objectLiteral(n)&&(qt.is(n.contents)||Gt.is(n.contents)||u.typedArray(n.contents,Gt.is))&&(i.range===void 0||ee.is(i.range))}e.is=t})(Hn||(Hn={}));(function(e){function t(i,n){return n?{label:i,documentation:n}:{label:i}}e.create=t})(zn||(zn={}));(function(e){function t(i,n){for(var r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];var a={label:i};return u.defined(n)&&(a.documentation=n),u.defined(r)?a.parameters=r:a.parameters=[],a}e.create=t})(Vn||(Vn={}));(function(e){e.Text=1,e.Read=2,e.Write=3})(Bn||(Bn={}));(function(e){function t(i,n){var r={range:i};return u.number(n)&&(r.kind=n),r}e.create=t})(Jn||(Jn={}));(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(Xn||(Xn={}));(function(e){e.Deprecated=1})(Qn||(Qn={}));(function(e){function t(i,n,r,o,a){var l={name:i,kind:n,location:{uri:o,range:r}};return a&&(l.containerName=a),l}e.create=t})(Gn||(Gn={}));(function(e){function t(i,n,r,o){return o!==void 0?{name:i,kind:n,location:{uri:r,range:o}}:{name:i,kind:n,location:{uri:r}}}e.create=t})(Zn||(Zn={}));(function(e){function t(n,r,o,a,l,d){var f={name:n,detail:r,kind:o,range:a,selectionRange:l};return d!==void 0&&(f.children=d),f}e.create=t;function i(n){var r=n;return r&&u.string(r.name)&&u.number(r.kind)&&ee.is(r.range)&&ee.is(r.selectionRange)&&(r.detail===void 0||u.string(r.detail))&&(r.deprecated===void 0||u.boolean(r.deprecated))&&(r.children===void 0||Array.isArray(r.children))&&(r.tags===void 0||Array.isArray(r.tags))}e.is=i})(Yn||(Yn={}));(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(Kn||(Kn={}));(function(e){e.Invoked=1,e.Automatic=2})(Zt||(Zt={}));(function(e){function t(n,r,o){var a={diagnostics:n};return r!=null&&(a.only=r),o!=null&&(a.triggerKind=o),a}e.create=t;function i(n){var r=n;return u.defined(r)&&u.typedArray(r.diagnostics,Jt.is)&&(r.only===void 0||u.typedArray(r.only,u.string))&&(r.triggerKind===void 0||r.triggerKind===Zt.Invoked||r.triggerKind===Zt.Automatic)}e.is=i})(ei||(ei={}));(function(e){function t(n,r,o){var a={title:n},l=!0;return typeof r=="string"?(l=!1,a.kind=r):dt.is(r)?a.command=r:a.edit=r,l&&o!==void 0&&(a.kind=o),a}e.create=t;function i(n){var r=n;return r&&u.string(r.title)&&(r.diagnostics===void 0||u.typedArray(r.diagnostics,Jt.is))&&(r.kind===void 0||u.string(r.kind))&&(r.edit!==void 0||r.command!==void 0)&&(r.command===void 0||dt.is(r.command))&&(r.isPreferred===void 0||u.boolean(r.isPreferred))&&(r.edit===void 0||_r.is(r.edit))}e.is=i})(ti||(ti={}));(function(e){function t(n,r){var o={range:n};return u.defined(r)&&(o.data=r),o}e.create=t;function i(n){var r=n;return u.defined(r)&&ee.is(r.range)&&(u.undefined(r.command)||dt.is(r.command))}e.is=i})(ri||(ri={}));(function(e){function t(n,r){return{tabSize:n,insertSpaces:r}}e.create=t;function i(n){var r=n;return u.defined(r)&&u.uinteger(r.tabSize)&&u.boolean(r.insertSpaces)}e.is=i})(ni||(ni={}));(function(e){function t(n,r,o){return{range:n,target:r,data:o}}e.create=t;function i(n){var r=n;return u.defined(r)&&ee.is(r.range)&&(u.undefined(r.target)||u.string(r.target))}e.is=i})(ii||(ii={}));(function(e){function t(n,r){return{range:n,parent:r}}e.create=t;function i(n){var r=n;return u.objectLiteral(r)&&ee.is(r.range)&&(r.parent===void 0||e.is(r.parent))}e.is=i})(oi||(oi={}));(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(si||(si={}));(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(ai||(ai={}));(function(e){function t(i){var n=i;return u.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}e.is=t})(ci||(ci={}));(function(e){function t(n,r){return{range:n,text:r}}e.create=t;function i(n){var r=n;return r!=null&&ee.is(r.range)&&u.string(r.text)}e.is=i})(ui||(ui={}));(function(e){function t(n,r,o){return{range:n,variableName:r,caseSensitiveLookup:o}}e.create=t;function i(n){var r=n;return r!=null&&ee.is(r.range)&&u.boolean(r.caseSensitiveLookup)&&(u.string(r.variableName)||r.variableName===void 0)}e.is=i})(di||(di={}));(function(e){function t(n,r){return{range:n,expression:r}}e.create=t;function i(n){var r=n;return r!=null&&ee.is(r.range)&&(u.string(r.expression)||r.expression===void 0)}e.is=i})(li||(li={}));(function(e){function t(n,r){return{frameId:n,stoppedLocation:r}}e.create=t;function i(n){var r=n;return u.defined(r)&&ee.is(n.stoppedLocation)}e.is=i})(fi||(fi={}));(function(e){e.Type=1,e.Parameter=2;function t(i){return i===1||i===2}e.is=t})(wr||(wr={}));(function(e){function t(n){return{value:n}}e.create=t;function i(n){var r=n;return u.objectLiteral(r)&&(r.tooltip===void 0||u.string(r.tooltip)||qt.is(r.tooltip))&&(r.location===void 0||Bt.is(r.location))&&(r.command===void 0||dt.is(r.command))}e.is=i})(Pr||(Pr={}));(function(e){function t(n,r,o){var a={position:n,label:r};return o!==void 0&&(a.kind=o),a}e.create=t;function i(n){var r=n;return u.objectLiteral(r)&&we.is(r.position)&&(u.string(r.label)||u.typedArray(r.label,Pr.is))&&(r.kind===void 0||wr.is(r.kind))&&r.textEdits===void 0||u.typedArray(r.textEdits,Ie.is)&&(r.tooltip===void 0||u.string(r.tooltip)||qt.is(r.tooltip))&&(r.paddingLeft===void 0||u.boolean(r.paddingLeft))&&(r.paddingRight===void 0||u.boolean(r.paddingRight))}e.is=i})(pi||(pi={}));(function(e){function t(i){var n=i;return u.objectLiteral(n)&&vr.is(n.uri)&&u.string(n.name)}e.is=t})(hi||(hi={}));Ba=[`
`,`\r
`,"\r"];(function(e){function t(o,a,l,d){return new Ja(o,a,l,d)}e.create=t;function i(o){var a=o;return!!(u.defined(a)&&u.string(a.uri)&&(u.undefined(a.languageId)||u.string(a.languageId))&&u.uinteger(a.lineCount)&&u.func(a.getText)&&u.func(a.positionAt)&&u.func(a.offsetAt))}e.is=i;function n(o,a){for(var l=o.getText(),d=r(a,function(P,C){var j=P.range.start.line-C.range.start.line;return j===0?P.range.start.character-C.range.start.character:j}),f=l.length,b=d.length-1;b>=0;b--){var v=d[b],y=o.offsetAt(v.range.start),m=o.offsetAt(v.range.end);if(m<=f)l=l.substring(0,y)+v.newText+l.substring(m,l.length);else throw new Error("Overlapping edit");f=y}return l}e.applyEdits=n;function r(o,a){if(o.length<=1)return o;var l=o.length/2|0,d=o.slice(0,l),f=o.slice(l);r(d,a),r(f,a);for(var b=0,v=0,y=0;b<d.length&&v<f.length;){var m=a(d[b],f[v]);m<=0?o[y++]=d[b++]:o[y++]=f[v++]}for(;b<d.length;)o[y++]=d[b++];for(;v<f.length;)o[y++]=f[v++];return o}})(gi||(gi={}));Ja=function(){function e(t,i,n,r){this._uri=t,this._languageId=i,this._version=n,this._content=r,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.getText=function(t){if(t){var i=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(i,n)}return this._content},e.prototype.update=function(t,i){this._content=t.text,this._version=i,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var t=[],i=this._content,n=!0,r=0;r<i.length;r++){n&&(t.push(r),n=!1);var o=i.charAt(r);n=o==="\r"||o===`
`,o==="\r"&&r+1<i.length&&i.charAt(r+1)===`
`&&r++}n&&i.length>0&&t.push(i.length),this._lineOffsets=t}return this._lineOffsets},e.prototype.positionAt=function(t){t=Math.max(Math.min(t,this._content.length),0);var i=this.getLineOffsets(),n=0,r=i.length;if(r===0)return we.create(0,t);for(;n<r;){var o=Math.floor((n+r)/2);i[o]>t?r=o:n=o+1}var a=n-1;return we.create(a,t-i[a])},e.prototype.offsetAt=function(t){var i=this.getLineOffsets();if(t.line>=i.length)return this._content.length;if(t.line<0)return 0;var n=i[t.line],r=t.line+1<i.length?i[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,r),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),e}();(function(e){var t=Object.prototype.toString;function i(m){return typeof m!="undefined"}e.defined=i;function n(m){return typeof m=="undefined"}e.undefined=n;function r(m){return m===!0||m===!1}e.boolean=r;function o(m){return t.call(m)==="[object String]"}e.string=o;function a(m){return t.call(m)==="[object Number]"}e.number=a;function l(m,P,C){return t.call(m)==="[object Number]"&&P<=m&&m<=C}e.numberRange=l;function d(m){return t.call(m)==="[object Number]"&&-2147483648<=m&&m<=2147483647}e.integer=d;function f(m){return t.call(m)==="[object Number]"&&0<=m&&m<=2147483647}e.uinteger=f;function b(m){return t.call(m)==="[object Function]"}e.func=b;function v(m){return m!==null&&typeof m=="object"}e.objectLiteral=v;function y(m,P){return Array.isArray(m)&&m.every(P)}e.typedArray=y})(u||(u={}))});var Z=E(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.ProtocolNotificationType=ve.ProtocolNotificationType0=ve.ProtocolRequestType=ve.ProtocolRequestType0=ve.RegistrationType=ve.MessageDirection=void 0;var xt=ut(),Xa;(function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"})(Xa=ve.MessageDirection||(ve.MessageDirection={}));var $o=class{constructor(t){this.method=t}};ve.RegistrationType=$o;var Ho=class extends xt.RequestType0{constructor(t){super(t)}};ve.ProtocolRequestType0=Ho;var zo=class extends xt.RequestType{constructor(t){super(t,xt.ParameterStructures.byName)}};ve.ProtocolRequestType=zo;var Vo=class extends xt.NotificationType0{constructor(t){super(t)}};ve.ProtocolNotificationType0=Vo;var Bo=class extends xt.NotificationType{constructor(t){super(t,xt.ParameterStructures.byName)}};ve.ProtocolNotificationType=Bo});var qr=E(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.objectLiteral=ne.typedArray=ne.stringArray=ne.array=ne.func=ne.error=ne.number=ne.string=ne.boolean=void 0;function Qa(e){return e===!0||e===!1}ne.boolean=Qa;function Jo(e){return typeof e=="string"||e instanceof String}ne.string=Jo;function Ga(e){return typeof e=="number"||e instanceof Number}ne.number=Ga;function Za(e){return e instanceof Error}ne.error=Za;function Ya(e){return typeof e=="function"}ne.func=Ya;function Xo(e){return Array.isArray(e)}ne.array=Xo;function Ka(e){return Xo(e)&&e.every(t=>Jo(t))}ne.stringArray=Ka;function ec(e,t){return Array.isArray(e)&&e.every(t)}ne.typedArray=ec;function tc(e){return e!==null&&typeof e=="object"}ne.objectLiteral=tc});var Go=E(Yt=>{"use strict";Object.defineProperty(Yt,"__esModule",{value:!0});Yt.ImplementationRequest=void 0;var Qo=Z(),rc;(function(e){e.method="textDocument/implementation",e.messageDirection=Qo.MessageDirection.clientToServer,e.type=new Qo.ProtocolRequestType(e.method)})(rc=Yt.ImplementationRequest||(Yt.ImplementationRequest={}))});var Yo=E(Kt=>{"use strict";Object.defineProperty(Kt,"__esModule",{value:!0});Kt.TypeDefinitionRequest=void 0;var Zo=Z(),nc;(function(e){e.method="textDocument/typeDefinition",e.messageDirection=Zo.MessageDirection.clientToServer,e.type=new Zo.ProtocolRequestType(e.method)})(nc=Kt.TypeDefinitionRequest||(Kt.TypeDefinitionRequest={}))});var Ko=E(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Ke.DidChangeWorkspaceFoldersNotification=Ke.WorkspaceFoldersRequest=void 0;var xr=Z(),ic;(function(e){e.method="workspace/workspaceFolders",e.messageDirection=xr.MessageDirection.serverToClient,e.type=new xr.ProtocolRequestType0(e.method)})(ic=Ke.WorkspaceFoldersRequest||(Ke.WorkspaceFoldersRequest={}));var oc;(function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=xr.MessageDirection.clientToServer,e.type=new xr.ProtocolNotificationType(e.method)})(oc=Ke.DidChangeWorkspaceFoldersNotification||(Ke.DidChangeWorkspaceFoldersNotification={}))});var ts=E(er=>{"use strict";Object.defineProperty(er,"__esModule",{value:!0});er.ConfigurationRequest=void 0;var es=Z(),sc;(function(e){e.method="workspace/configuration",e.messageDirection=es.MessageDirection.serverToClient,e.type=new es.ProtocolRequestType(e.method)})(sc=er.ConfigurationRequest||(er.ConfigurationRequest={}))});var rs=E(et=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0});et.ColorPresentationRequest=et.DocumentColorRequest=void 0;var kr=Z(),ac;(function(e){e.method="textDocument/documentColor",e.messageDirection=kr.MessageDirection.clientToServer,e.type=new kr.ProtocolRequestType(e.method)})(ac=et.DocumentColorRequest||(et.DocumentColorRequest={}));var cc;(function(e){e.method="textDocument/colorPresentation",e.messageDirection=kr.MessageDirection.clientToServer,e.type=new kr.ProtocolRequestType(e.method)})(cc=et.ColorPresentationRequest||(et.ColorPresentationRequest={}))});var is=E(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.FoldingRangeRequest=void 0;var ns=Z(),uc;(function(e){e.method="textDocument/foldingRange",e.messageDirection=ns.MessageDirection.clientToServer,e.type=new ns.ProtocolRequestType(e.method)})(uc=tr.FoldingRangeRequest||(tr.FoldingRangeRequest={}))});var ss=E(rr=>{"use strict";Object.defineProperty(rr,"__esModule",{value:!0});rr.DeclarationRequest=void 0;var os=Z(),dc;(function(e){e.method="textDocument/declaration",e.messageDirection=os.MessageDirection.clientToServer,e.type=new os.ProtocolRequestType(e.method)})(dc=rr.DeclarationRequest||(rr.DeclarationRequest={}))});var cs=E(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.SelectionRangeRequest=void 0;var as=Z(),lc;(function(e){e.method="textDocument/selectionRange",e.messageDirection=as.MessageDirection.clientToServer,e.type=new as.ProtocolRequestType(e.method)})(lc=nr.SelectionRangeRequest||(nr.SelectionRangeRequest={}))});var us=E(ke=>{"use strict";Object.defineProperty(ke,"__esModule",{value:!0});ke.WorkDoneProgressCancelNotification=ke.WorkDoneProgressCreateRequest=ke.WorkDoneProgress=void 0;var fc=ut(),Nr=Z(),pc;(function(e){e.type=new fc.ProgressType;function t(i){return i===e.type}e.is=t})(pc=ke.WorkDoneProgress||(ke.WorkDoneProgress={}));var hc;(function(e){e.method="window/workDoneProgress/create",e.messageDirection=Nr.MessageDirection.serverToClient,e.type=new Nr.ProtocolRequestType(e.method)})(hc=ke.WorkDoneProgressCreateRequest||(ke.WorkDoneProgressCreateRequest={}));var gc;(function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=Nr.MessageDirection.clientToServer,e.type=new Nr.ProtocolNotificationType(e.method)})(gc=ke.WorkDoneProgressCancelNotification||(ke.WorkDoneProgressCancelNotification={}))});var ds=E(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.CallHierarchyOutgoingCallsRequest=Ne.CallHierarchyIncomingCallsRequest=Ne.CallHierarchyPrepareRequest=void 0;var kt=Z(),mc;(function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=kt.MessageDirection.clientToServer,e.type=new kt.ProtocolRequestType(e.method)})(mc=Ne.CallHierarchyPrepareRequest||(Ne.CallHierarchyPrepareRequest={}));var yc;(function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=kt.MessageDirection.clientToServer,e.type=new kt.ProtocolRequestType(e.method)})(yc=Ne.CallHierarchyIncomingCallsRequest||(Ne.CallHierarchyIncomingCallsRequest={}));var vc;(function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=kt.MessageDirection.clientToServer,e.type=new kt.ProtocolRequestType(e.method)})(vc=Ne.CallHierarchyOutgoingCallsRequest||(Ne.CallHierarchyOutgoingCallsRequest={}))});var ls=E(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});ie.SemanticTokensRefreshRequest=ie.SemanticTokensRangeRequest=ie.SemanticTokensDeltaRequest=ie.SemanticTokensRequest=ie.SemanticTokensRegistrationType=ie.TokenFormat=void 0;var Xe=Z(),bc;(function(e){e.Relative="relative"})(bc=ie.TokenFormat||(ie.TokenFormat={}));var Or;(function(e){e.method="textDocument/semanticTokens",e.type=new Xe.RegistrationType(e.method)})(Or=ie.SemanticTokensRegistrationType||(ie.SemanticTokensRegistrationType={}));var Rc;(function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=Xe.MessageDirection.clientToServer,e.type=new Xe.ProtocolRequestType(e.method),e.registrationMethod=Or.method})(Rc=ie.SemanticTokensRequest||(ie.SemanticTokensRequest={}));var _c;(function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=Xe.MessageDirection.clientToServer,e.type=new Xe.ProtocolRequestType(e.method),e.registrationMethod=Or.method})(_c=ie.SemanticTokensDeltaRequest||(ie.SemanticTokensDeltaRequest={}));var Dc;(function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=Xe.MessageDirection.clientToServer,e.type=new Xe.ProtocolRequestType(e.method),e.registrationMethod=Or.method})(Dc=ie.SemanticTokensRangeRequest||(ie.SemanticTokensRangeRequest={}));var Tc;(function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=Xe.MessageDirection.clientToServer,e.type=new Xe.ProtocolRequestType0(e.method)})(Tc=ie.SemanticTokensRefreshRequest||(ie.SemanticTokensRefreshRequest={}))});var ps=E(ir=>{"use strict";Object.defineProperty(ir,"__esModule",{value:!0});ir.ShowDocumentRequest=void 0;var fs=Z(),wc;(function(e){e.method="window/showDocument",e.messageDirection=fs.MessageDirection.serverToClient,e.type=new fs.ProtocolRequestType(e.method)})(wc=ir.ShowDocumentRequest||(ir.ShowDocumentRequest={}))});var gs=E(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.LinkedEditingRangeRequest=void 0;var hs=Z(),Pc;(function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=hs.MessageDirection.clientToServer,e.type=new hs.ProtocolRequestType(e.method)})(Pc=or.LinkedEditingRangeRequest||(or.LinkedEditingRangeRequest={}))});var ms=E(Y=>{"use strict";Object.defineProperty(Y,"__esModule",{value:!0});Y.WillDeleteFilesRequest=Y.DidDeleteFilesNotification=Y.DidRenameFilesNotification=Y.WillRenameFilesRequest=Y.DidCreateFilesNotification=Y.WillCreateFilesRequest=Y.FileOperationPatternKind=void 0;var Pe=Z(),Cc;(function(e){e.file="file",e.folder="folder"})(Cc=Y.FileOperationPatternKind||(Y.FileOperationPatternKind={}));var Sc;(function(e){e.method="workspace/willCreateFiles",e.messageDirection=Pe.MessageDirection.clientToServer,e.type=new Pe.ProtocolRequestType(e.method)})(Sc=Y.WillCreateFilesRequest||(Y.WillCreateFilesRequest={}));var qc;(function(e){e.method="workspace/didCreateFiles",e.messageDirection=Pe.MessageDirection.clientToServer,e.type=new Pe.ProtocolNotificationType(e.method)})(qc=Y.DidCreateFilesNotification||(Y.DidCreateFilesNotification={}));var xc;(function(e){e.method="workspace/willRenameFiles",e.messageDirection=Pe.MessageDirection.clientToServer,e.type=new Pe.ProtocolRequestType(e.method)})(xc=Y.WillRenameFilesRequest||(Y.WillRenameFilesRequest={}));var kc;(function(e){e.method="workspace/didRenameFiles",e.messageDirection=Pe.MessageDirection.clientToServer,e.type=new Pe.ProtocolNotificationType(e.method)})(kc=Y.DidRenameFilesNotification||(Y.DidRenameFilesNotification={}));var Nc;(function(e){e.method="workspace/didDeleteFiles",e.messageDirection=Pe.MessageDirection.clientToServer,e.type=new Pe.ProtocolNotificationType(e.method)})(Nc=Y.DidDeleteFilesNotification||(Y.DidDeleteFilesNotification={}));var Oc;(function(e){e.method="workspace/willDeleteFiles",e.messageDirection=Pe.MessageDirection.clientToServer,e.type=new Pe.ProtocolRequestType(e.method)})(Oc=Y.WillDeleteFilesRequest||(Y.WillDeleteFilesRequest={}))});var vs=E(Oe=>{"use strict";Object.defineProperty(Oe,"__esModule",{value:!0});Oe.MonikerRequest=Oe.MonikerKind=Oe.UniquenessLevel=void 0;var ys=Z(),Ec;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(Ec=Oe.UniquenessLevel||(Oe.UniquenessLevel={}));var Mc;(function(e){e.$import="import",e.$export="export",e.local="local"})(Mc=Oe.MonikerKind||(Oe.MonikerKind={}));var jc;(function(e){e.method="textDocument/moniker",e.messageDirection=ys.MessageDirection.clientToServer,e.type=new ys.ProtocolRequestType(e.method)})(jc=Oe.MonikerRequest||(Oe.MonikerRequest={}))});var bs=E(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});Ee.TypeHierarchySubtypesRequest=Ee.TypeHierarchySupertypesRequest=Ee.TypeHierarchyPrepareRequest=void 0;var Nt=Z(),Ac;(function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=Nt.MessageDirection.clientToServer,e.type=new Nt.ProtocolRequestType(e.method)})(Ac=Ee.TypeHierarchyPrepareRequest||(Ee.TypeHierarchyPrepareRequest={}));var Lc;(function(e){e.method="typeHierarchy/supertypes",e.messageDirection=Nt.MessageDirection.clientToServer,e.type=new Nt.ProtocolRequestType(e.method)})(Lc=Ee.TypeHierarchySupertypesRequest||(Ee.TypeHierarchySupertypesRequest={}));var Ic;(function(e){e.method="typeHierarchy/subtypes",e.messageDirection=Nt.MessageDirection.clientToServer,e.type=new Nt.ProtocolRequestType(e.method)})(Ic=Ee.TypeHierarchySubtypesRequest||(Ee.TypeHierarchySubtypesRequest={}))});var Rs=E(tt=>{"use strict";Object.defineProperty(tt,"__esModule",{value:!0});tt.InlineValueRefreshRequest=tt.InlineValueRequest=void 0;var Er=Z(),Fc;(function(e){e.method="textDocument/inlineValue",e.messageDirection=Er.MessageDirection.clientToServer,e.type=new Er.ProtocolRequestType(e.method)})(Fc=tt.InlineValueRequest||(tt.InlineValueRequest={}));var Wc;(function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=Er.MessageDirection.clientToServer,e.type=new Er.ProtocolRequestType0(e.method)})(Wc=tt.InlineValueRefreshRequest||(tt.InlineValueRefreshRequest={}))});var _s=E(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.InlayHintRefreshRequest=Me.InlayHintResolveRequest=Me.InlayHintRequest=void 0;var Ot=Z(),Uc;(function(e){e.method="textDocument/inlayHint",e.messageDirection=Ot.MessageDirection.clientToServer,e.type=new Ot.ProtocolRequestType(e.method)})(Uc=Me.InlayHintRequest||(Me.InlayHintRequest={}));var $c;(function(e){e.method="inlayHint/resolve",e.messageDirection=Ot.MessageDirection.clientToServer,e.type=new Ot.ProtocolRequestType(e.method)})($c=Me.InlayHintResolveRequest||(Me.InlayHintResolveRequest={}));var Hc;(function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=Ot.MessageDirection.clientToServer,e.type=new Ot.ProtocolRequestType0(e.method)})(Hc=Me.InlayHintRefreshRequest||(Me.InlayHintRefreshRequest={}))});var Ts=E(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});de.DiagnosticRefreshRequest=de.WorkspaceDiagnosticRequest=de.DocumentDiagnosticRequest=de.DocumentDiagnosticReportKind=de.DiagnosticServerCancellationData=void 0;var Ds=ut(),zc=qr(),Et=Z(),Vc;(function(e){function t(i){let n=i;return n&&zc.boolean(n.retriggerRequest)}e.is=t})(Vc=de.DiagnosticServerCancellationData||(de.DiagnosticServerCancellationData={}));var Bc;(function(e){e.Full="full",e.Unchanged="unchanged"})(Bc=de.DocumentDiagnosticReportKind||(de.DocumentDiagnosticReportKind={}));var Jc;(function(e){e.method="textDocument/diagnostic",e.messageDirection=Et.MessageDirection.clientToServer,e.type=new Et.ProtocolRequestType(e.method),e.partialResult=new Ds.ProgressType})(Jc=de.DocumentDiagnosticRequest||(de.DocumentDiagnosticRequest={}));var Xc;(function(e){e.method="workspace/diagnostic",e.messageDirection=Et.MessageDirection.clientToServer,e.type=new Et.ProtocolRequestType(e.method),e.partialResult=new Ds.ProgressType})(Xc=de.WorkspaceDiagnosticRequest||(de.WorkspaceDiagnosticRequest={}));var Qc;(function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=Et.MessageDirection.clientToServer,e.type=new Et.ProtocolRequestType0(e.method)})(Qc=de.DiagnosticRefreshRequest||(de.DiagnosticRefreshRequest={}))});var Cs=E(I=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});I.DidCloseNotebookDocumentNotification=I.DidSaveNotebookDocumentNotification=I.DidChangeNotebookDocumentNotification=I.NotebookCellArrayChange=I.DidOpenNotebookDocumentNotification=I.NotebookDocumentSyncRegistrationType=I.NotebookDocument=I.NotebookCell=I.ExecutionSummary=I.NotebookCellKind=void 0;var sr=(Sr(),lr(Cr)),je=qr(),Fe=Z(),ws;(function(e){e.Markup=1,e.Code=2;function t(i){return i===1||i===2}e.is=t})(ws=I.NotebookCellKind||(I.NotebookCellKind={}));var Ps;(function(e){function t(r,o){let a={executionOrder:r};return(o===!0||o===!1)&&(a.success=o),a}e.create=t;function i(r){let o=r;return je.objectLiteral(o)&&sr.uinteger.is(o.executionOrder)&&(o.success===void 0||je.boolean(o.success))}e.is=i;function n(r,o){return r===o?!0:r==null||o===null||o===void 0?!1:r.executionOrder===o.executionOrder&&r.success===o.success}e.equals=n})(Ps=I.ExecutionSummary||(I.ExecutionSummary={}));var mi;(function(e){function t(o,a){return{kind:o,document:a}}e.create=t;function i(o){let a=o;return je.objectLiteral(a)&&ws.is(a.kind)&&sr.DocumentUri.is(a.document)&&(a.metadata===void 0||je.objectLiteral(a.metadata))}e.is=i;function n(o,a){let l=new Set;return o.document!==a.document&&l.add("document"),o.kind!==a.kind&&l.add("kind"),o.executionSummary!==a.executionSummary&&l.add("executionSummary"),(o.metadata!==void 0||a.metadata!==void 0)&&!r(o.metadata,a.metadata)&&l.add("metadata"),(o.executionSummary!==void 0||a.executionSummary!==void 0)&&!Ps.equals(o.executionSummary,a.executionSummary)&&l.add("executionSummary"),l}e.diff=n;function r(o,a){if(o===a)return!0;if(o==null||a===null||a===void 0||typeof o!=typeof a||typeof o!="object")return!1;let l=Array.isArray(o),d=Array.isArray(a);if(l!==d)return!1;if(l&&d){if(o.length!==a.length)return!1;for(let f=0;f<o.length;f++)if(!r(o[f],a[f]))return!1}if(je.objectLiteral(o)&&je.objectLiteral(a)){let f=Object.keys(o),b=Object.keys(a);if(f.length!==b.length||(f.sort(),b.sort(),!r(f,b)))return!1;for(let v=0;v<f.length;v++){let y=f[v];if(!r(o[y],a[y]))return!1}}return!0}})(mi=I.NotebookCell||(I.NotebookCell={}));var Gc;(function(e){function t(n,r,o,a){return{uri:n,notebookType:r,version:o,cells:a}}e.create=t;function i(n){let r=n;return je.objectLiteral(r)&&je.string(r.uri)&&sr.integer.is(r.version)&&je.typedArray(r.cells,mi.is)}e.is=i})(Gc=I.NotebookDocument||(I.NotebookDocument={}));var ar;(function(e){e.method="notebookDocument/sync",e.messageDirection=Fe.MessageDirection.clientToServer,e.type=new Fe.RegistrationType(e.method)})(ar=I.NotebookDocumentSyncRegistrationType||(I.NotebookDocumentSyncRegistrationType={}));var Zc;(function(e){e.method="notebookDocument/didOpen",e.messageDirection=Fe.MessageDirection.clientToServer,e.type=new Fe.ProtocolNotificationType(e.method),e.registrationMethod=ar.method})(Zc=I.DidOpenNotebookDocumentNotification||(I.DidOpenNotebookDocumentNotification={}));var Yc;(function(e){function t(n){let r=n;return je.objectLiteral(r)&&sr.uinteger.is(r.start)&&sr.uinteger.is(r.deleteCount)&&(r.cells===void 0||je.typedArray(r.cells,mi.is))}e.is=t;function i(n,r,o){let a={start:n,deleteCount:r};return o!==void 0&&(a.cells=o),a}e.create=i})(Yc=I.NotebookCellArrayChange||(I.NotebookCellArrayChange={}));var Kc;(function(e){e.method="notebookDocument/didChange",e.messageDirection=Fe.MessageDirection.clientToServer,e.type=new Fe.ProtocolNotificationType(e.method),e.registrationMethod=ar.method})(Kc=I.DidChangeNotebookDocumentNotification||(I.DidChangeNotebookDocumentNotification={}));var eu;(function(e){e.method="notebookDocument/didSave",e.messageDirection=Fe.MessageDirection.clientToServer,e.type=new Fe.ProtocolNotificationType(e.method),e.registrationMethod=ar.method})(eu=I.DidSaveNotebookDocumentNotification||(I.DidSaveNotebookDocumentNotification={}));var tu;(function(e){e.method="notebookDocument/didClose",e.messageDirection=Fe.MessageDirection.clientToServer,e.type=new Fe.ProtocolNotificationType(e.method),e.registrationMethod=ar.method})(tu=I.DidCloseNotebookDocumentNotification||(I.DidCloseNotebookDocumentNotification={}))});var js=E(s=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0});s.WorkspaceSymbolRequest=s.CodeActionResolveRequest=s.CodeActionRequest=s.DocumentSymbolRequest=s.DocumentHighlightRequest=s.ReferencesRequest=s.DefinitionRequest=s.SignatureHelpRequest=s.SignatureHelpTriggerKind=s.HoverRequest=s.CompletionResolveRequest=s.CompletionRequest=s.CompletionTriggerKind=s.PublishDiagnosticsNotification=s.WatchKind=s.RelativePattern=s.FileChangeType=s.DidChangeWatchedFilesNotification=s.WillSaveTextDocumentWaitUntilRequest=s.WillSaveTextDocumentNotification=s.TextDocumentSaveReason=s.DidSaveTextDocumentNotification=s.DidCloseTextDocumentNotification=s.DidChangeTextDocumentNotification=s.TextDocumentContentChangeEvent=s.DidOpenTextDocumentNotification=s.TextDocumentSyncKind=s.TelemetryEventNotification=s.LogMessageNotification=s.ShowMessageRequest=s.ShowMessageNotification=s.MessageType=s.DidChangeConfigurationNotification=s.ExitNotification=s.ShutdownRequest=s.InitializedNotification=s.InitializeErrorCodes=s.InitializeRequest=s.WorkDoneProgressOptions=s.TextDocumentRegistrationOptions=s.StaticRegistrationOptions=s.PositionEncodingKind=s.FailureHandlingKind=s.ResourceOperationKind=s.UnregistrationRequest=s.RegistrationRequest=s.DocumentSelector=s.NotebookCellTextDocumentFilter=s.NotebookDocumentFilter=s.TextDocumentFilter=void 0;s.TypeHierarchySubtypesRequest=s.TypeHierarchyPrepareRequest=s.MonikerRequest=s.MonikerKind=s.UniquenessLevel=s.WillDeleteFilesRequest=s.DidDeleteFilesNotification=s.WillRenameFilesRequest=s.DidRenameFilesNotification=s.WillCreateFilesRequest=s.DidCreateFilesNotification=s.FileOperationPatternKind=s.LinkedEditingRangeRequest=s.ShowDocumentRequest=s.SemanticTokensRegistrationType=s.SemanticTokensRefreshRequest=s.SemanticTokensRangeRequest=s.SemanticTokensDeltaRequest=s.SemanticTokensRequest=s.TokenFormat=s.CallHierarchyPrepareRequest=s.CallHierarchyOutgoingCallsRequest=s.CallHierarchyIncomingCallsRequest=s.WorkDoneProgressCancelNotification=s.WorkDoneProgressCreateRequest=s.WorkDoneProgress=s.SelectionRangeRequest=s.DeclarationRequest=s.FoldingRangeRequest=s.ColorPresentationRequest=s.DocumentColorRequest=s.ConfigurationRequest=s.DidChangeWorkspaceFoldersNotification=s.WorkspaceFoldersRequest=s.TypeDefinitionRequest=s.ImplementationRequest=s.ApplyWorkspaceEditRequest=s.ExecuteCommandRequest=s.PrepareRenameRequest=s.RenameRequest=s.PrepareSupportDefaultBehavior=s.DocumentOnTypeFormattingRequest=s.DocumentRangeFormattingRequest=s.DocumentFormattingRequest=s.DocumentLinkResolveRequest=s.DocumentLinkRequest=s.CodeLensRefreshRequest=s.CodeLensResolveRequest=s.CodeLensRequest=s.WorkspaceSymbolResolveRequest=void 0;s.DidCloseNotebookDocumentNotification=s.DidSaveNotebookDocumentNotification=s.DidChangeNotebookDocumentNotification=s.NotebookCellArrayChange=s.DidOpenNotebookDocumentNotification=s.NotebookDocumentSyncRegistrationType=s.NotebookDocument=s.NotebookCell=s.ExecutionSummary=s.NotebookCellKind=s.DiagnosticRefreshRequest=s.WorkspaceDiagnosticRequest=s.DocumentDiagnosticRequest=s.DocumentDiagnosticReportKind=s.DiagnosticServerCancellationData=s.InlayHintRefreshRequest=s.InlayHintResolveRequest=s.InlayHintRequest=s.InlineValueRefreshRequest=s.InlineValueRequest=s.TypeHierarchySupertypesRequest=void 0;var _=Z(),Ss=(Sr(),lr(Cr)),le=qr(),ru=Go();Object.defineProperty(s,"ImplementationRequest",{enumerable:!0,get:function(){return ru.ImplementationRequest}});var nu=Yo();Object.defineProperty(s,"TypeDefinitionRequest",{enumerable:!0,get:function(){return nu.TypeDefinitionRequest}});var qs=Ko();Object.defineProperty(s,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return qs.WorkspaceFoldersRequest}});Object.defineProperty(s,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return qs.DidChangeWorkspaceFoldersNotification}});var iu=ts();Object.defineProperty(s,"ConfigurationRequest",{enumerable:!0,get:function(){return iu.ConfigurationRequest}});var xs=rs();Object.defineProperty(s,"DocumentColorRequest",{enumerable:!0,get:function(){return xs.DocumentColorRequest}});Object.defineProperty(s,"ColorPresentationRequest",{enumerable:!0,get:function(){return xs.ColorPresentationRequest}});var ou=is();Object.defineProperty(s,"FoldingRangeRequest",{enumerable:!0,get:function(){return ou.FoldingRangeRequest}});var su=ss();Object.defineProperty(s,"DeclarationRequest",{enumerable:!0,get:function(){return su.DeclarationRequest}});var au=cs();Object.defineProperty(s,"SelectionRangeRequest",{enumerable:!0,get:function(){return au.SelectionRangeRequest}});var yi=us();Object.defineProperty(s,"WorkDoneProgress",{enumerable:!0,get:function(){return yi.WorkDoneProgress}});Object.defineProperty(s,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return yi.WorkDoneProgressCreateRequest}});Object.defineProperty(s,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return yi.WorkDoneProgressCancelNotification}});var vi=ds();Object.defineProperty(s,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return vi.CallHierarchyIncomingCallsRequest}});Object.defineProperty(s,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return vi.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(s,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return vi.CallHierarchyPrepareRequest}});var Mt=ls();Object.defineProperty(s,"TokenFormat",{enumerable:!0,get:function(){return Mt.TokenFormat}});Object.defineProperty(s,"SemanticTokensRequest",{enumerable:!0,get:function(){return Mt.SemanticTokensRequest}});Object.defineProperty(s,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return Mt.SemanticTokensDeltaRequest}});Object.defineProperty(s,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return Mt.SemanticTokensRangeRequest}});Object.defineProperty(s,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return Mt.SemanticTokensRefreshRequest}});Object.defineProperty(s,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return Mt.SemanticTokensRegistrationType}});var cu=ps();Object.defineProperty(s,"ShowDocumentRequest",{enumerable:!0,get:function(){return cu.ShowDocumentRequest}});var uu=gs();Object.defineProperty(s,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return uu.LinkedEditingRangeRequest}});var ft=ms();Object.defineProperty(s,"FileOperationPatternKind",{enumerable:!0,get:function(){return ft.FileOperationPatternKind}});Object.defineProperty(s,"DidCreateFilesNotification",{enumerable:!0,get:function(){return ft.DidCreateFilesNotification}});Object.defineProperty(s,"WillCreateFilesRequest",{enumerable:!0,get:function(){return ft.WillCreateFilesRequest}});Object.defineProperty(s,"DidRenameFilesNotification",{enumerable:!0,get:function(){return ft.DidRenameFilesNotification}});Object.defineProperty(s,"WillRenameFilesRequest",{enumerable:!0,get:function(){return ft.WillRenameFilesRequest}});Object.defineProperty(s,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return ft.DidDeleteFilesNotification}});Object.defineProperty(s,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return ft.WillDeleteFilesRequest}});var bi=vs();Object.defineProperty(s,"UniquenessLevel",{enumerable:!0,get:function(){return bi.UniquenessLevel}});Object.defineProperty(s,"MonikerKind",{enumerable:!0,get:function(){return bi.MonikerKind}});Object.defineProperty(s,"MonikerRequest",{enumerable:!0,get:function(){return bi.MonikerRequest}});var Ri=bs();Object.defineProperty(s,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return Ri.TypeHierarchyPrepareRequest}});Object.defineProperty(s,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return Ri.TypeHierarchySubtypesRequest}});Object.defineProperty(s,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return Ri.TypeHierarchySupertypesRequest}});var ks=Rs();Object.defineProperty(s,"InlineValueRequest",{enumerable:!0,get:function(){return ks.InlineValueRequest}});Object.defineProperty(s,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return ks.InlineValueRefreshRequest}});var _i=_s();Object.defineProperty(s,"InlayHintRequest",{enumerable:!0,get:function(){return _i.InlayHintRequest}});Object.defineProperty(s,"InlayHintResolveRequest",{enumerable:!0,get:function(){return _i.InlayHintResolveRequest}});Object.defineProperty(s,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return _i.InlayHintRefreshRequest}});var cr=Ts();Object.defineProperty(s,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return cr.DiagnosticServerCancellationData}});Object.defineProperty(s,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return cr.DocumentDiagnosticReportKind}});Object.defineProperty(s,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return cr.DocumentDiagnosticRequest}});Object.defineProperty(s,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return cr.WorkspaceDiagnosticRequest}});Object.defineProperty(s,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return cr.DiagnosticRefreshRequest}});var We=Cs();Object.defineProperty(s,"NotebookCellKind",{enumerable:!0,get:function(){return We.NotebookCellKind}});Object.defineProperty(s,"ExecutionSummary",{enumerable:!0,get:function(){return We.ExecutionSummary}});Object.defineProperty(s,"NotebookCell",{enumerable:!0,get:function(){return We.NotebookCell}});Object.defineProperty(s,"NotebookDocument",{enumerable:!0,get:function(){return We.NotebookDocument}});Object.defineProperty(s,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return We.NotebookDocumentSyncRegistrationType}});Object.defineProperty(s,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return We.DidOpenNotebookDocumentNotification}});Object.defineProperty(s,"NotebookCellArrayChange",{enumerable:!0,get:function(){return We.NotebookCellArrayChange}});Object.defineProperty(s,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return We.DidChangeNotebookDocumentNotification}});Object.defineProperty(s,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return We.DidSaveNotebookDocumentNotification}});Object.defineProperty(s,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return We.DidCloseNotebookDocumentNotification}});var Ns;(function(e){function t(i){let n=i;return le.string(n.language)||le.string(n.scheme)||le.string(n.pattern)}e.is=t})(Ns=s.TextDocumentFilter||(s.TextDocumentFilter={}));var Os;(function(e){function t(i){let n=i;return le.objectLiteral(n)&&(le.string(n.notebookType)||le.string(n.scheme)||le.string(n.pattern))}e.is=t})(Os=s.NotebookDocumentFilter||(s.NotebookDocumentFilter={}));var Es;(function(e){function t(i){let n=i;return le.objectLiteral(n)&&(le.string(n.notebook)||Os.is(n.notebook))&&(n.language===void 0||le.string(n.language))}e.is=t})(Es=s.NotebookCellTextDocumentFilter||(s.NotebookCellTextDocumentFilter={}));var Ms;(function(e){function t(i){if(!Array.isArray(i))return!1;for(let n of i)if(!le.string(n)&&!Ns.is(n)&&!Es.is(n))return!1;return!0}e.is=t})(Ms=s.DocumentSelector||(s.DocumentSelector={}));var du;(function(e){e.method="client/registerCapability",e.messageDirection=_.MessageDirection.serverToClient,e.type=new _.ProtocolRequestType(e.method)})(du=s.RegistrationRequest||(s.RegistrationRequest={}));var lu;(function(e){e.method="client/unregisterCapability",e.messageDirection=_.MessageDirection.serverToClient,e.type=new _.ProtocolRequestType(e.method)})(lu=s.UnregistrationRequest||(s.UnregistrationRequest={}));var fu;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(fu=s.ResourceOperationKind||(s.ResourceOperationKind={}));var pu;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(pu=s.FailureHandlingKind||(s.FailureHandlingKind={}));var hu;(function(e){e.UTF8="utf-8",e.UTF16="utf-16",e.UTF32="utf-32"})(hu=s.PositionEncodingKind||(s.PositionEncodingKind={}));var gu;(function(e){function t(i){let n=i;return n&&le.string(n.id)&&n.id.length>0}e.hasId=t})(gu=s.StaticRegistrationOptions||(s.StaticRegistrationOptions={}));var mu;(function(e){function t(i){let n=i;return n&&(n.documentSelector===null||Ms.is(n.documentSelector))}e.is=t})(mu=s.TextDocumentRegistrationOptions||(s.TextDocumentRegistrationOptions={}));var yu;(function(e){function t(n){let r=n;return le.objectLiteral(r)&&(r.workDoneProgress===void 0||le.boolean(r.workDoneProgress))}e.is=t;function i(n){let r=n;return r&&le.boolean(r.workDoneProgress)}e.hasWorkDoneProgress=i})(yu=s.WorkDoneProgressOptions||(s.WorkDoneProgressOptions={}));var vu;(function(e){e.method="initialize",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(vu=s.InitializeRequest||(s.InitializeRequest={}));var bu;(function(e){e.unknownProtocolVersion=1})(bu=s.InitializeErrorCodes||(s.InitializeErrorCodes={}));var Ru;(function(e){e.method="initialized",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolNotificationType(e.method)})(Ru=s.InitializedNotification||(s.InitializedNotification={}));var _u;(function(e){e.method="shutdown",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType0(e.method)})(_u=s.ShutdownRequest||(s.ShutdownRequest={}));var Du;(function(e){e.method="exit",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolNotificationType0(e.method)})(Du=s.ExitNotification||(s.ExitNotification={}));var Tu;(function(e){e.method="workspace/didChangeConfiguration",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolNotificationType(e.method)})(Tu=s.DidChangeConfigurationNotification||(s.DidChangeConfigurationNotification={}));var wu;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4})(wu=s.MessageType||(s.MessageType={}));var Pu;(function(e){e.method="window/showMessage",e.messageDirection=_.MessageDirection.serverToClient,e.type=new _.ProtocolNotificationType(e.method)})(Pu=s.ShowMessageNotification||(s.ShowMessageNotification={}));var Cu;(function(e){e.method="window/showMessageRequest",e.messageDirection=_.MessageDirection.serverToClient,e.type=new _.ProtocolRequestType(e.method)})(Cu=s.ShowMessageRequest||(s.ShowMessageRequest={}));var Su;(function(e){e.method="window/logMessage",e.messageDirection=_.MessageDirection.serverToClient,e.type=new _.ProtocolNotificationType(e.method)})(Su=s.LogMessageNotification||(s.LogMessageNotification={}));var qu;(function(e){e.method="telemetry/event",e.messageDirection=_.MessageDirection.serverToClient,e.type=new _.ProtocolNotificationType(e.method)})(qu=s.TelemetryEventNotification||(s.TelemetryEventNotification={}));var xu;(function(e){e.None=0,e.Full=1,e.Incremental=2})(xu=s.TextDocumentSyncKind||(s.TextDocumentSyncKind={}));var ku;(function(e){e.method="textDocument/didOpen",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolNotificationType(e.method)})(ku=s.DidOpenTextDocumentNotification||(s.DidOpenTextDocumentNotification={}));var Nu;(function(e){function t(n){let r=n;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}e.isIncremental=t;function i(n){let r=n;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}e.isFull=i})(Nu=s.TextDocumentContentChangeEvent||(s.TextDocumentContentChangeEvent={}));var Ou;(function(e){e.method="textDocument/didChange",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolNotificationType(e.method)})(Ou=s.DidChangeTextDocumentNotification||(s.DidChangeTextDocumentNotification={}));var Eu;(function(e){e.method="textDocument/didClose",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolNotificationType(e.method)})(Eu=s.DidCloseTextDocumentNotification||(s.DidCloseTextDocumentNotification={}));var Mu;(function(e){e.method="textDocument/didSave",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolNotificationType(e.method)})(Mu=s.DidSaveTextDocumentNotification||(s.DidSaveTextDocumentNotification={}));var ju;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(ju=s.TextDocumentSaveReason||(s.TextDocumentSaveReason={}));var Au;(function(e){e.method="textDocument/willSave",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolNotificationType(e.method)})(Au=s.WillSaveTextDocumentNotification||(s.WillSaveTextDocumentNotification={}));var Lu;(function(e){e.method="textDocument/willSaveWaitUntil",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(Lu=s.WillSaveTextDocumentWaitUntilRequest||(s.WillSaveTextDocumentWaitUntilRequest={}));var Iu;(function(e){e.method="workspace/didChangeWatchedFiles",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolNotificationType(e.method)})(Iu=s.DidChangeWatchedFilesNotification||(s.DidChangeWatchedFilesNotification={}));var Fu;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(Fu=s.FileChangeType||(s.FileChangeType={}));var Wu;(function(e){function t(i){let n=i;return le.objectLiteral(n)&&(Ss.URI.is(n.baseUri)||Ss.WorkspaceFolder.is(n.baseUri))&&le.string(n.pattern)}e.is=t})(Wu=s.RelativePattern||(s.RelativePattern={}));var Uu;(function(e){e.Create=1,e.Change=2,e.Delete=4})(Uu=s.WatchKind||(s.WatchKind={}));var $u;(function(e){e.method="textDocument/publishDiagnostics",e.messageDirection=_.MessageDirection.serverToClient,e.type=new _.ProtocolNotificationType(e.method)})($u=s.PublishDiagnosticsNotification||(s.PublishDiagnosticsNotification={}));var Hu;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(Hu=s.CompletionTriggerKind||(s.CompletionTriggerKind={}));var zu;(function(e){e.method="textDocument/completion",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(zu=s.CompletionRequest||(s.CompletionRequest={}));var Vu;(function(e){e.method="completionItem/resolve",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(Vu=s.CompletionResolveRequest||(s.CompletionResolveRequest={}));var Bu;(function(e){e.method="textDocument/hover",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(Bu=s.HoverRequest||(s.HoverRequest={}));var Ju;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(Ju=s.SignatureHelpTriggerKind||(s.SignatureHelpTriggerKind={}));var Xu;(function(e){e.method="textDocument/signatureHelp",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(Xu=s.SignatureHelpRequest||(s.SignatureHelpRequest={}));var Qu;(function(e){e.method="textDocument/definition",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(Qu=s.DefinitionRequest||(s.DefinitionRequest={}));var Gu;(function(e){e.method="textDocument/references",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(Gu=s.ReferencesRequest||(s.ReferencesRequest={}));var Zu;(function(e){e.method="textDocument/documentHighlight",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(Zu=s.DocumentHighlightRequest||(s.DocumentHighlightRequest={}));var Yu;(function(e){e.method="textDocument/documentSymbol",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(Yu=s.DocumentSymbolRequest||(s.DocumentSymbolRequest={}));var Ku;(function(e){e.method="textDocument/codeAction",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(Ku=s.CodeActionRequest||(s.CodeActionRequest={}));var ed;(function(e){e.method="codeAction/resolve",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(ed=s.CodeActionResolveRequest||(s.CodeActionResolveRequest={}));var td;(function(e){e.method="workspace/symbol",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(td=s.WorkspaceSymbolRequest||(s.WorkspaceSymbolRequest={}));var rd;(function(e){e.method="workspaceSymbol/resolve",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(rd=s.WorkspaceSymbolResolveRequest||(s.WorkspaceSymbolResolveRequest={}));var nd;(function(e){e.method="textDocument/codeLens",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(nd=s.CodeLensRequest||(s.CodeLensRequest={}));var id;(function(e){e.method="codeLens/resolve",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(id=s.CodeLensResolveRequest||(s.CodeLensResolveRequest={}));var od;(function(e){e.method="workspace/codeLens/refresh",e.messageDirection=_.MessageDirection.serverToClient,e.type=new _.ProtocolRequestType0(e.method)})(od=s.CodeLensRefreshRequest||(s.CodeLensRefreshRequest={}));var sd;(function(e){e.method="textDocument/documentLink",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(sd=s.DocumentLinkRequest||(s.DocumentLinkRequest={}));var ad;(function(e){e.method="documentLink/resolve",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(ad=s.DocumentLinkResolveRequest||(s.DocumentLinkResolveRequest={}));var cd;(function(e){e.method="textDocument/formatting",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(cd=s.DocumentFormattingRequest||(s.DocumentFormattingRequest={}));var ud;(function(e){e.method="textDocument/rangeFormatting",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(ud=s.DocumentRangeFormattingRequest||(s.DocumentRangeFormattingRequest={}));var dd;(function(e){e.method="textDocument/onTypeFormatting",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(dd=s.DocumentOnTypeFormattingRequest||(s.DocumentOnTypeFormattingRequest={}));var ld;(function(e){e.Identifier=1})(ld=s.PrepareSupportDefaultBehavior||(s.PrepareSupportDefaultBehavior={}));var fd;(function(e){e.method="textDocument/rename",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(fd=s.RenameRequest||(s.RenameRequest={}));var pd;(function(e){e.method="textDocument/prepareRename",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(pd=s.PrepareRenameRequest||(s.PrepareRenameRequest={}));var hd;(function(e){e.method="workspace/executeCommand",e.messageDirection=_.MessageDirection.clientToServer,e.type=new _.ProtocolRequestType(e.method)})(hd=s.ExecuteCommandRequest||(s.ExecuteCommandRequest={}));var gd;(function(e){e.method="workspace/applyEdit",e.messageDirection=_.MessageDirection.serverToClient,e.type=new _.ProtocolRequestType("workspace/applyEdit")})(gd=s.ApplyWorkspaceEditRequest||(s.ApplyWorkspaceEditRequest={}))});var Ls=E(Mr=>{"use strict";Object.defineProperty(Mr,"__esModule",{value:!0});Mr.createProtocolConnection=void 0;var As=ut();function md(e,t,i,n){return As.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,As.createMessageConnection)(e,t,i,n)}Mr.createProtocolConnection=md});var Is=E(be=>{"use strict";var yd=be&&be.__createBinding||(Object.create?function(e,t,i,n){n===void 0&&(n=i);var r=Object.getOwnPropertyDescriptor(t,i);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,r)}:function(e,t,i,n){n===void 0&&(n=i),e[n]=t[i]}),jr=be&&be.__exportStar||function(e,t){for(var i in e)i!=="default"&&!Object.prototype.hasOwnProperty.call(t,i)&&yd(t,e,i)};Object.defineProperty(be,"__esModule",{value:!0});be.LSPErrorCodes=be.createProtocolConnection=void 0;jr(ut(),be);jr((Sr(),lr(Cr)),be);jr(Z(),be);jr(js(),be);var vd=Ls();Object.defineProperty(be,"createProtocolConnection",{enumerable:!0,get:function(){return vd.createProtocolConnection}});var bd;(function(e){e.lspReservedErrorRangeStart=-32899,e.RequestFailed=-32803,e.ServerCancelled=-32802,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800})(bd=be.LSPErrorCodes||(be.LSPErrorCodes={}))});var Ws=E(Ue=>{"use strict";var Rd=Ue&&Ue.__createBinding||(Object.create?function(e,t,i,n){n===void 0&&(n=i);var r=Object.getOwnPropertyDescriptor(t,i);(!r||("get"in r?!t.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return t[i]}}),Object.defineProperty(e,n,r)}:function(e,t,i,n){n===void 0&&(n=i),e[n]=t[i]}),Fs=Ue&&Ue.__exportStar||function(e,t){for(var i in e)i!=="default"&&!Object.prototype.hasOwnProperty.call(t,i)&&Rd(t,e,i)};Object.defineProperty(Ue,"__esModule",{value:!0});Ue.createProtocolConnection=void 0;var _d=_n();Fs(_n(),Ue);Fs(Is(),Ue);function Dd(e,t,i,n){return(0,_d.createMessageConnection)(e,t,i,n)}Ue.createProtocolConnection=Dd});var wd={};Si(wd,{activate:()=>$s});var V=nt(require("coc.nvim"));var Te=nt(require("coc.nvim"));var xi;(()=>{"use strict";var e={470:r=>{function o(d){if(typeof d!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(d))}function a(d,f){for(var b,v="",y=0,m=-1,P=0,C=0;C<=d.length;++C){if(C<d.length)b=d.charCodeAt(C);else{if(b===47)break;b=47}if(b===47){if(!(m===C-1||P===1))if(m!==C-1&&P===2){if(v.length<2||y!==2||v.charCodeAt(v.length-1)!==46||v.charCodeAt(v.length-2)!==46){if(v.length>2){var j=v.lastIndexOf("/");if(j!==v.length-1){j===-1?(v="",y=0):y=(v=v.slice(0,j)).length-1-v.lastIndexOf("/"),m=C,P=0;continue}}else if(v.length===2||v.length===1){v="",y=0,m=C,P=0;continue}}f&&(v.length>0?v+="/..":v="..",y=2)}else v.length>0?v+="/"+d.slice(m+1,C):v=d.slice(m+1,C),y=C-m-1;m=C,P=0}else b===46&&P!==-1?++P:P=-1}return v}var l={resolve:function(){for(var d,f="",b=!1,v=arguments.length-1;v>=-1&&!b;v--){var y;v>=0?y=arguments[v]:(d===void 0&&(d=process.cwd()),y=d),o(y),y.length!==0&&(f=y+"/"+f,b=y.charCodeAt(0)===47)}return f=a(f,!b),b?f.length>0?"/"+f:"/":f.length>0?f:"."},normalize:function(d){if(o(d),d.length===0)return".";var f=d.charCodeAt(0)===47,b=d.charCodeAt(d.length-1)===47;return(d=a(d,!f)).length!==0||f||(d="."),d.length>0&&b&&(d+="/"),f?"/"+d:d},isAbsolute:function(d){return o(d),d.length>0&&d.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var d,f=0;f<arguments.length;++f){var b=arguments[f];o(b),b.length>0&&(d===void 0?d=b:d+="/"+b)}return d===void 0?".":l.normalize(d)},relative:function(d,f){if(o(d),o(f),d===f||(d=l.resolve(d))===(f=l.resolve(f)))return"";for(var b=1;b<d.length&&d.charCodeAt(b)===47;++b);for(var v=d.length,y=v-b,m=1;m<f.length&&f.charCodeAt(m)===47;++m);for(var P=f.length-m,C=y<P?y:P,j=-1,O=0;O<=C;++O){if(O===C){if(P>C){if(f.charCodeAt(m+O)===47)return f.slice(m+O+1);if(O===0)return f.slice(m+O)}else y>C&&(d.charCodeAt(b+O)===47?j=O:O===0&&(j=0));break}var B=d.charCodeAt(b+O);if(B!==f.charCodeAt(m+O))break;B===47&&(j=O)}var A="";for(O=b+j+1;O<=v;++O)O!==v&&d.charCodeAt(O)!==47||(A.length===0?A+="..":A+="/..");return A.length>0?A+f.slice(m+j):(m+=j,f.charCodeAt(m)===47&&++m,f.slice(m))},_makeLong:function(d){return d},dirname:function(d){if(o(d),d.length===0)return".";for(var f=d.charCodeAt(0),b=f===47,v=-1,y=!0,m=d.length-1;m>=1;--m)if((f=d.charCodeAt(m))===47){if(!y){v=m;break}}else y=!1;return v===-1?b?"/":".":b&&v===1?"//":d.slice(0,v)},basename:function(d,f){if(f!==void 0&&typeof f!="string")throw new TypeError('"ext" argument must be a string');o(d);var b,v=0,y=-1,m=!0;if(f!==void 0&&f.length>0&&f.length<=d.length){if(f.length===d.length&&f===d)return"";var P=f.length-1,C=-1;for(b=d.length-1;b>=0;--b){var j=d.charCodeAt(b);if(j===47){if(!m){v=b+1;break}}else C===-1&&(m=!1,C=b+1),P>=0&&(j===f.charCodeAt(P)?--P==-1&&(y=b):(P=-1,y=C))}return v===y?y=C:y===-1&&(y=d.length),d.slice(v,y)}for(b=d.length-1;b>=0;--b)if(d.charCodeAt(b)===47){if(!m){v=b+1;break}}else y===-1&&(m=!1,y=b+1);return y===-1?"":d.slice(v,y)},extname:function(d){o(d);for(var f=-1,b=0,v=-1,y=!0,m=0,P=d.length-1;P>=0;--P){var C=d.charCodeAt(P);if(C!==47)v===-1&&(y=!1,v=P+1),C===46?f===-1?f=P:m!==1&&(m=1):f!==-1&&(m=-1);else if(!y){b=P+1;break}}return f===-1||v===-1||m===0||m===1&&f===v-1&&f===b+1?"":d.slice(f,v)},format:function(d){if(d===null||typeof d!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof d);return function(f,b){var v=b.dir||b.root,y=b.base||(b.name||"")+(b.ext||"");return v?v===b.root?v+y:v+"/"+y:y}(0,d)},parse:function(d){o(d);var f={root:"",dir:"",base:"",ext:"",name:""};if(d.length===0)return f;var b,v=d.charCodeAt(0),y=v===47;y?(f.root="/",b=1):b=0;for(var m=-1,P=0,C=-1,j=!0,O=d.length-1,B=0;O>=b;--O)if((v=d.charCodeAt(O))!==47)C===-1&&(j=!1,C=O+1),v===46?m===-1?m=O:B!==1&&(B=1):m!==-1&&(B=-1);else if(!j){P=O+1;break}return m===-1||C===-1||B===0||B===1&&m===C-1&&m===P+1?C!==-1&&(f.base=f.name=P===0&&y?d.slice(1,C):d.slice(P,C)):(P===0&&y?(f.name=d.slice(1,m),f.base=d.slice(1,C)):(f.name=d.slice(P,m),f.base=d.slice(P,C)),f.ext=d.slice(m,C)),P>0?f.dir=d.slice(0,P-1):y&&(f.dir="/"),f},sep:"/",delimiter:":",win32:null,posix:null};l.posix=l,r.exports=l}},t={};function i(r){var o=t[r];if(o!==void 0)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,i),a.exports}i.d=(r,o)=>{for(var a in o)i.o(o,a)&&!i.o(r,a)&&Object.defineProperty(r,a,{enumerable:!0,get:o[a]})},i.o=(r,o)=>Object.prototype.hasOwnProperty.call(r,o),i.r=r=>{typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})};var n={};(()=>{var r;if(i.r(n),i.d(n,{URI:()=>C,Utils:()=>pt}),typeof process=="object")r=process.platform==="win32";else if(typeof navigator=="object"){var o=navigator.userAgent;r=o.indexOf("Windows")>=0}var a,l,d=(a=function(D,p){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,T){R.__proto__=T}||function(R,T){for(var M in T)Object.prototype.hasOwnProperty.call(T,M)&&(R[M]=T[M])},a(D,p)},function(D,p){if(typeof p!="function"&&p!==null)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function R(){this.constructor=D}a(D,p),D.prototype=p===null?Object.create(p):(R.prototype=p.prototype,new R)}),f=/^\w[\w\d+.-]*$/,b=/^\//,v=/^\/\//,y="",m="/",P=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,C=function(){function D(p,R,T,M,N,L){L===void 0&&(L=!1),typeof p=="object"?(this.scheme=p.scheme||y,this.authority=p.authority||y,this.path=p.path||y,this.query=p.query||y,this.fragment=p.fragment||y):(this.scheme=function(te,fe){return te||fe?te:"file"}(p,L),this.authority=R||y,this.path=function(te,fe){switch(te){case"https":case"http":case"file":fe?fe[0]!==m&&(fe=m+fe):fe=m}return fe}(this.scheme,T||y),this.query=M||y,this.fragment=N||y,function(te,fe){if(!te.scheme&&fe)throw new Error('[UriError]: Scheme is missing: {scheme: "", authority: "'.concat(te.authority,'", path: "').concat(te.path,'", query: "').concat(te.query,'", fragment: "').concat(te.fragment,'"}'));if(te.scheme&&!f.test(te.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(te.path){if(te.authority){if(!b.test(te.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(v.test(te.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}(this,L))}return D.isUri=function(p){return p instanceof D||!!p&&typeof p.authority=="string"&&typeof p.fragment=="string"&&typeof p.path=="string"&&typeof p.query=="string"&&typeof p.scheme=="string"&&typeof p.fsPath=="string"&&typeof p.with=="function"&&typeof p.toString=="function"},Object.defineProperty(D.prototype,"fsPath",{get:function(){return Q(this,!1)},enumerable:!1,configurable:!0}),D.prototype.with=function(p){if(!p)return this;var R=p.scheme,T=p.authority,M=p.path,N=p.query,L=p.fragment;return R===void 0?R=this.scheme:R===null&&(R=y),T===void 0?T=this.authority:T===null&&(T=y),M===void 0?M=this.path:M===null&&(M=y),N===void 0?N=this.query:N===null&&(N=y),L===void 0?L=this.fragment:L===null&&(L=y),R===this.scheme&&T===this.authority&&M===this.path&&N===this.query&&L===this.fragment?this:new O(R,T,M,N,L)},D.parse=function(p,R){R===void 0&&(R=!1);var T=P.exec(p);return T?new O(T[2]||y,Ce(T[4]||y),Ce(T[5]||y),Ce(T[7]||y),Ce(T[9]||y),R):new O(y,y,y,y,y)},D.file=function(p){var R=y;if(r&&(p=p.replace(/\\/g,m)),p[0]===m&&p[1]===m){var T=p.indexOf(m,2);T===-1?(R=p.substring(2),p=m):(R=p.substring(2,T),p=p.substring(T)||m)}return new O("file",R,p,y,y)},D.from=function(p){return new O(p.scheme,p.authority,p.path,p.query,p.fragment)},D.prototype.toString=function(p){return p===void 0&&(p=!1),ge(this,p)},D.prototype.toJSON=function(){return this},D.revive=function(p){if(p){if(p instanceof D)return p;var R=new O(p);return R._formatted=p.external,R._fsPath=p._sep===j?p.fsPath:null,R}return p},D}(),j=r?1:void 0,O=function(D){function p(){var R=D!==null&&D.apply(this,arguments)||this;return R._formatted=null,R._fsPath=null,R}return d(p,D),Object.defineProperty(p.prototype,"fsPath",{get:function(){return this._fsPath||(this._fsPath=Q(this,!1)),this._fsPath},enumerable:!1,configurable:!0}),p.prototype.toString=function(R){return R===void 0&&(R=!1),R?ge(this,!0):(this._formatted||(this._formatted=ge(this,!1)),this._formatted)},p.prototype.toJSON=function(){var R={$mid:1};return this._fsPath&&(R.fsPath=this._fsPath,R._sep=j),this._formatted&&(R.external=this._formatted),this.path&&(R.path=this.path),this.scheme&&(R.scheme=this.scheme),this.authority&&(R.authority=this.authority),this.query&&(R.query=this.query),this.fragment&&(R.fragment=this.fragment),R},p}(C),B=((l={})[58]="%3A",l[47]="%2F",l[63]="%3F",l[35]="%23",l[91]="%5B",l[93]="%5D",l[64]="%40",l[33]="%21",l[36]="%24",l[38]="%26",l[39]="%27",l[40]="%28",l[41]="%29",l[42]="%2A",l[43]="%2B",l[44]="%2C",l[59]="%3B",l[61]="%3D",l[32]="%20",l);function A(D,p){for(var R=void 0,T=-1,M=0;M<D.length;M++){var N=D.charCodeAt(M);if(N>=97&&N<=122||N>=65&&N<=90||N>=48&&N<=57||N===45||N===46||N===95||N===126||p&&N===47)T!==-1&&(R+=encodeURIComponent(D.substring(T,M)),T=-1),R!==void 0&&(R+=D.charAt(M));else{R===void 0&&(R=D.substr(0,M));var L=B[N];L!==void 0?(T!==-1&&(R+=encodeURIComponent(D.substring(T,M)),T=-1),R+=L):T===-1&&(T=M)}}return T!==-1&&(R+=encodeURIComponent(D.substring(T))),R!==void 0?R:D}function Re(D){for(var p=void 0,R=0;R<D.length;R++){var T=D.charCodeAt(R);T===35||T===63?(p===void 0&&(p=D.substr(0,R)),p+=B[T]):p!==void 0&&(p+=D[R])}return p!==void 0?p:D}function Q(D,p){var R;return R=D.authority&&D.path.length>1&&D.scheme==="file"?"//".concat(D.authority).concat(D.path):D.path.charCodeAt(0)===47&&(D.path.charCodeAt(1)>=65&&D.path.charCodeAt(1)<=90||D.path.charCodeAt(1)>=97&&D.path.charCodeAt(1)<=122)&&D.path.charCodeAt(2)===58?p?D.path.substr(1):D.path[1].toLowerCase()+D.path.substr(2):D.path,r&&(R=R.replace(/\//g,"\\")),R}function ge(D,p){var R=p?Re:A,T="",M=D.scheme,N=D.authority,L=D.path,te=D.query,fe=D.fragment;if(M&&(T+=M,T+=":"),(N||M==="file")&&(T+=m,T+=m),N){var De=N.indexOf("@");if(De!==-1){var gt=N.substr(0,De);N=N.substr(De+1),(De=gt.indexOf(":"))===-1?T+=R(gt,!1):(T+=R(gt.substr(0,De),!1),T+=":",T+=R(gt.substr(De+1),!1)),T+="@"}(De=(N=N.toLowerCase()).indexOf(":"))===-1?T+=R(N,!1):(T+=R(N.substr(0,De),!1),T+=N.substr(De))}if(L){if(L.length>=3&&L.charCodeAt(0)===47&&L.charCodeAt(2)===58)(Qe=L.charCodeAt(1))>=65&&Qe<=90&&(L="/".concat(String.fromCharCode(Qe+32),":").concat(L.substr(3)));else if(L.length>=2&&L.charCodeAt(1)===58){var Qe;(Qe=L.charCodeAt(0))>=65&&Qe<=90&&(L="".concat(String.fromCharCode(Qe+32),":").concat(L.substr(2)))}T+=R(L,!0)}return te&&(T+="?",T+=R(te,!1)),fe&&(T+="#",T+=p?fe:A(fe,!1)),T}function $e(D){try{return decodeURIComponent(D)}catch{return D.length>3?D.substr(0,3)+$e(D.substr(3)):D}}var _e=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function Ce(D){return D.match(_e)?D.replace(_e,function(p){return $e(p)}):D}var pt,jt=i(470),rt=function(D,p,R){if(R||arguments.length===2)for(var T,M=0,N=p.length;M<N;M++)!T&&M in p||(T||(T=Array.prototype.slice.call(p,0,M)),T[M]=p[M]);return D.concat(T||Array.prototype.slice.call(p))},Ae=jt.posix||jt,ht="/";(function(D){D.joinPath=function(p){for(var R=[],T=1;T<arguments.length;T++)R[T-1]=arguments[T];return p.with({path:Ae.join.apply(Ae,rt([p.path],R,!1))})},D.resolvePath=function(p){for(var R=[],T=1;T<arguments.length;T++)R[T-1]=arguments[T];var M=p.path,N=!1;M[0]!==ht&&(M=ht+M,N=!0);var L=Ae.resolve.apply(Ae,rt([M],R,!1));return N&&L[0]===ht&&!p.authority&&(L=L.substring(1)),p.with({path:L})},D.dirname=function(p){if(p.path.length===0||p.path===ht)return p;var R=Ae.dirname(p.path);return R.length===1&&R.charCodeAt(0)===46&&(R=""),p.with({path:R})},D.basename=function(p){return Ae.basename(p.path)},D.extname=function(p){return Ae.extname(p.path)}})(pt||(pt={}))})(),xi=n})();var{URI:Cd,Utils:Fr}=xi;function ki(e){let t=Ni(),i=Oi(),n=new Te.Emitter;return e.push(Te.extensions.onDidLoadExtension(r=>{let o=Oi();(o.length!==i.length||!o.every((a,l)=>a===i[l]))&&(i=o,n.fire())})),e.push(Te.workspace.onDidChangeConfiguration(r=>{r.affectsConfiguration("css.customData")&&(t=Ni(),n.fire())})),{get uris(){return t.concat(i)},get onDidChange(){return n.event}}}function Ni(){let e=Te.workspace.workspaceFolders,t=[];if(!e)return t;let i=(n,r)=>{if(Array.isArray(n))for(let o of n)typeof o=="string"&&t.push(Fr.resolvePath(r,o).toString())};for(let n=0;n<e.length;n++){let r=Te.Uri.parse(e[n].uri),a=Te.workspace.getConfiguration("css",r).inspect("customData");a&&(i(a.workspaceFolderValue,r),n===0&&i(a.globalValue,r))}return t}function Oi(){var t,i,n;let e=[];for(let r of Te.extensions.all){let o=(n=(i=(t=r.packageJSON)==null?void 0:t.contributes)==null?void 0:i.css)==null?void 0:n.customData;if(Array.isArray(o))for(let a of o){let l=Te.Uri.file(r.extensionPath);e.push(Fr.joinPath(l,a).toString())}}return e}var Ye=nt(require("coc.nvim"));var Wr;(t=>{t.type=new Ye.RequestType("fs/content")})(Wr||(Wr={}));var Ur;(t=>{t.type=new Ye.RequestType("fs/stat")})(Ur||(Ur={}));var $r;(t=>{t.type=new Ye.RequestType("fs/readDir")})($r||($r={}));function Ei(e,t){e.onRequest(Wr.type,i=>{if(Ye.Uri.parse(i.uri).scheme==="file"&&t.fs)return t.fs.getContent(i.uri)}),e.onRequest($r.type,i=>{if(Ye.Uri.parse(i).scheme==="file"&&t.fs)return t.fs.readDirectory(i)}),e.onRequest(Ur.type,i=>{if(Ye.Uri.parse(i).scheme==="file"&&t.fs)return t.fs.stat(i)})}var Se=(r=>(r[r.Unknown=0]="Unknown",r[r.File=1]="File",r[r.Directory=2]="Directory",r[r.SymbolicLink=64]="SymbolicLink",r))(Se||{}),Od=".".charCodeAt(0);var Us=nt(require("util"));var vt=nt(require("fs")),fr=nt(require("coc.nvim"));function Mi(){function e(t){if(!t.startsWith("file://"))throw new Error("fileRequestService can only handle file URLs")}return{getContent(t,i){return e(t),new Promise((n,r)=>{let o=fr.Uri.parse(t);vt.readFile(o.fsPath,i,(a,l)=>{if(a)return r(a);n(l.toString())})})},stat(t){return e(t),new Promise((i,n)=>{let r=fr.Uri.parse(t);vt.stat(r.fsPath,(o,a)=>{if(o)return o.code==="ENOENT"?i({type:0,ctime:-1,mtime:-1,size:-1}):n(o);let l=0;a.isFile()?l=1:a.isDirectory()?l=2:a.isSymbolicLink()&&(l=64),i({type:l,ctime:a.ctime.getTime(),mtime:a.mtime.getTime(),size:a.size})})})},readDirectory(t){return e(t),new Promise((i,n)=>{let r=fr.Uri.parse(t).fsPath;vt.readdir(r,{withFileTypes:!0},(o,a)=>{if(o)return n(o);i(a.map(l=>l.isSymbolicLink()?[l.name,64]:l.isDirectory()?[l.name,2]:l.isFile()?[l.name,1]:[l.name,0]))})})}}}var Di=nt(Ws()),Ar;(t=>{t.type=new V.NotificationType("css/customDataChanged")})(Ar||(Ar={}));var Td=["newlineBetweenSelectors","newlineBetweenRules","spaceAroundSelectorSeparator","braceStyle","preserveNewLines","maxPreserveNewLines"];async function $s(e){let{subscriptions:t}=e,i=V.workspace.getConfiguration().get("css",{}),n=e.asAbsolutePath("./lib/server.js"),r=["css","scss","less"],o=ki(e.subscriptions),a=r.map(P=>({languageId:P,settingId:`${P}.format.enable`,provider:void 0})),l={fs:Mi(),TextDecoder:Us.TextDecoder},d={execArgv:["--nolazy","--inspect="+(7e3+Math.round(Math.random()*999))]},f={run:{module:n,transport:V.TransportKind.ipc,options:{cwd:V.workspace.root,execArgv:i.execArgv||[]}},debug:{module:n,transport:V.TransportKind.ipc,options:d}},b={documentSelector:r,synchronize:{configurationSection:["css","less","scss"]},outputChannelName:"css",initializationOptions:{handledSchemas:["file"],provideFormatter:!1,customCapabilities:{rangeFormatting:{editLimit:1e4}}},middleware:{}},v=new V.LanguageClient("css","Css language server",f,b);await v.start(),v.serviceState===V.ServiceStat.Running&&(v.sendNotification(Ar.type,o.uris),o.onDidChange(()=>{v.sendNotification(Ar.type,o.uris)})),t.push(V.services.registerLanguageClient(v));for(let P of a)m(P),e.subscriptions.push({dispose:()=>{var C;return(C=P.provider)==null?void 0:C.dispose()}}),e.subscriptions.push(V.workspace.onDidChangeConfiguration(C=>C.affectsConfiguration(P.settingId)&&m(P)));Ei(v,l),V.commands.registerCommand("_css.applyCodeAction",y);function y(P,C,j){let O=V.window.activeTextEditor;O&&O.document.uri.toString()===P&&(O.document.version!==C&&V.window.showInformationMessage("CSS fix is outdated and can't be applied to the document."),O.document.applyEdits(j).catch(B=>{V.window.showErrorMessage(`Failed to apply CSS fix to the document. ${B.message}`)}))}function m(P){let C=V.workspace.getConfiguration().get(P.settingId);!C&&P.provider?(P.provider.dispose(),P.provider=void 0):C&&!P.provider&&(P.provider=V.languages.registerDocumentRangeFormatProvider([P.languageId],{provideDocumentRangeFormattingEdits(j,O,B,A){let Re=V.workspace.getConfiguration("files",j),Q={trimTrailingWhitespace:Re.get("trimTrailingWhitespace"),trimFinalNewlines:Re.get("trimFinalNewlines"),insertFinalNewline:Re.get("insertFinalNewline")},ge={textDocument:{uri:j.uri},range:O,options:Object.assign({},Q,B)},$e=V.workspace.getConfiguration(P.languageId,j).get("format");if($e)for(let _e of Td){let Ce=$e[_e];Ce!=null&&(ge.options[_e]=Ce)}return v.sendRequest(Di.DocumentRangeFormattingRequest.type,ge,A).then(_e=>_e,_e=>(v.handleFailedRequest(Di.DocumentRangeFormattingRequest.type,void 0,_e,[]),Promise.resolve([])))}}))}}module.exports=lr(wd);0&&(module.exports={activate});
//# sourceMappingURL=index.js.map
